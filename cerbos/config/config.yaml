---
# Cerbos Server Configuration
# Sports Manager Application

server:
  httpListenAddr: ":3592"
  grpcListenAddr: ":3593"
  adminAPI:
    enabled: true
    adminCredentials:
      username: "cerbos"
      passwordHash: "JDJiJDEwJG04M3pYUlMvTFpScjFEb3FpdnJZUmVURmxBZmVyd0RUclpzTlJjZzdOMEd6UFZFMi90YjAy"

storage:
  driver: "postgres"
  postgres:
    url: "${CERBOS_DB_URL}"
    connPool:
      maxLifeTime: 60m
      maxIdleTime: 45s
      maxOpen: 4
      maxIdle: 1
    connRetry:
      maxAttempts: 3
      initialInterval: 1s
      maxInterval: 30s

# Audit logging for compliance
audit:
  enabled: true
  backend: local
  local:
    storagePath: /data/audit.log

# Schema validation
schema:
  enforcement: reject  # Reject invalid policies

# Telemetry (disabled for local dev)
telemetry:
  disabled: true
