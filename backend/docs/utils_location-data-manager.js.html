<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: utils/location-data-manager.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: utils/location-data-manager.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Location Data Management Utility
 * 
 * This utility provides functions to manage and initialize the location data system:
 * - Initialize location data for existing users
 * - Migrate existing user postal codes to comprehensive location data
 * - Calculate distances for all user-location pairs
 * - Retry failed calculations
 * - Generate reports on system status
 */

const knex = require('../config/database');
const LocationDataService = require('../services/LocationDataService');
const DistanceCalculationService = require('../services/DistanceCalculationService');

class LocationDataManager {
  constructor() {
    this.locationService = new LocationDataService();
    this.distanceService = new DistanceCalculationService();
  }

  /**
   * Initialize location data for all existing users who don't have it yet
   */
  async initializeUserLocationData() {
    console.log('🚀 Starting user location data initialization...');
    
    try {
      // Get users who need location data
      const usersNeedingLocationData = await this.locationService.getUsersNeedingLocationData();
      
      if (usersNeedingLocationData.length === 0) {
        console.log('✅ All users already have location data!');
        return { success: true, message: 'No users need location data initialization' };
      }

      console.log(`📍 Found ${usersNeedingLocationData.length} users needing location data`);
      
      // Process users in batches to respect API limits
      const batchSize = 10;
      const batches = [];
      
      for (let i = 0; i &lt; usersNeedingLocationData.length; i += batchSize) {
        batches.push(usersNeedingLocationData.slice(i, i + batchSize));
      }
      
      console.log(`📦 Processing ${batches.length} batches of ${batchSize} users each`);
      
      let totalSuccessful = 0;
      let totalFailed = 0;
      
      for (let i = 0; i &lt; batches.length; i++) {
        const batch = batches[i];
        console.log(`\n⏳ Processing batch ${i + 1}/${batches.length}...`);
        
        const result = await this.locationService.batchCreateUserLocations(batch);
        
        totalSuccessful += result.successful.length;
        totalFailed += result.failed.length;
        
        console.log(`✅ Batch ${i + 1} completed: ${result.successful.length} successful, ${result.failed.length} failed`);
        
        // Wait between batches to respect rate limits
        if (i &lt; batches.length - 1) {
          console.log('⏱️  Waiting 30 seconds before next batch...');
          await this.delay(30000);
        }
      }
      
      console.log(`\n🎉 User location data initialization completed!`);
      console.log(`📊 Summary: ${totalSuccessful} successful, ${totalFailed} failed`);
      
      return {
        success: true,
        totalProcessed: usersNeedingLocationData.length,
        successful: totalSuccessful,
        failed: totalFailed
      };
    } catch (error) {
      console.error('❌ Error during user location data initialization:', error);
      throw error;
    }
  }

  /**
   * Initialize all distance calculations for the entire system
   * WARNING: This can take several hours for large datasets
   */
  async initializeAllDistanceCalculations() {
    console.log('🚀 Starting comprehensive distance calculation initialization...');
    console.log('⚠️  WARNING: This process may take several hours to complete!');
    
    try {
      // Get system stats first
      const stats = await this.getSystemStats();
      console.log('\n📊 System Overview:');
      console.log(`   👥 Users with location data: ${stats.usersWithLocationData}`);
      console.log(`   📍 Active locations: ${stats.activeLocations}`);
      console.log(`   🧮 Total calculations needed: ${stats.totalCalculationsNeeded}`);
      console.log(`   ⏰ Estimated time: ${stats.estimatedTimeHours} hours`);
      
      const proceed = process.env.FORCE_INITIALIZE === 'true' || await this.confirmProceed(
        `This will perform ${stats.totalCalculationsNeeded} distance calculations. Continue?`
      );
      
      if (!proceed) {
        console.log('❌ Initialization cancelled by user');
        return { success: false, message: 'Cancelled by user' };
      }
      
      console.log('\n🏁 Starting full distance calculation initialization...');
      const result = await this.distanceService.initializeAllDistances();
      
      console.log('\n🎉 Distance calculation initialization completed!');
      console.log(`📊 Final Summary:`);
      console.log(`   👥 Users processed: ${result.totalUsers}`);
      console.log(`   📍 Locations processed: ${result.totalLocations}`);
      console.log(`   ✅ Successful calculations: ${result.successfulCalculations}`);
      console.log(`   ❌ Failed calculations: ${result.failedCalculations}`);
      console.log(`   📈 Success rate: ${((result.successfulCalculations / result.totalCalculations) * 100).toFixed(1)}%`);
      
      return result;
    } catch (error) {
      console.error('❌ Error during distance calculation initialization:', error);
      throw error;
    }
  }

  /**
   * Get comprehensive system statistics
   */
  async getSystemStats() {
    try {
      const [
        usersWithLocationData,
        usersTotal,
        activeLocations,
        distanceStats
      ] = await Promise.all([
        knex('user_locations').count('* as count').first(),
        knex('users').where('role', 'referee').count('* as count').first(),
        knex('locations').where('is_active', true).count('* as count').first(),
        this.distanceService.getCalculationStats()
      ]);

      const usersWithLocationCount = parseInt(usersWithLocationData.count);
      const totalUsers = parseInt(usersTotal.count);
      const totalLocations = parseInt(activeLocations.count);
      const totalCalculationsNeeded = usersWithLocationCount * totalLocations;
      const estimatedTimeHours = Math.ceil((totalCalculationsNeeded * 1) / 3600); // 1 second per calculation

      return {
        usersWithLocationData: usersWithLocationCount,
        totalUsers: totalUsers,
        usersNeedingLocationData: totalUsers - usersWithLocationCount,
        activeLocations: totalLocations,
        totalCalculationsNeeded,
        estimatedTimeHours,
        existingCalculations: distanceStats.totalCalculations,
        successfulCalculations: distanceStats.successfulCalculations,
        failedCalculations: distanceStats.failedCalculations,
        calculationsNeeded: Math.max(0, totalCalculationsNeeded - distanceStats.successfulCalculations)
      };
    } catch (error) {
      console.error('Error getting system stats:', error);
      throw error;
    }
  }

  /**
   * Print a comprehensive system status report
   */
  async printSystemReport() {
    console.log('\n📋 LOCATION DATA SYSTEM STATUS REPORT');
    console.log('=====================================');
    
    try {
      const stats = await this.getSystemStats();
      
      console.log('\n👥 USER DATA:');
      console.log(`   Total referees: ${stats.totalUsers}`);
      console.log(`   With location data: ${stats.usersWithLocationData}`);
      console.log(`   Missing location data: ${stats.usersNeedingLocationData}`);
      console.log(`   Coverage: ${((stats.usersWithLocationData / stats.totalUsers) * 100).toFixed(1)}%`);
      
      console.log('\n📍 LOCATION DATA:');
      console.log(`   Active locations: ${stats.activeLocations}`);
      
      console.log('\n🧮 DISTANCE CALCULATIONS:');
      console.log(`   Total needed: ${stats.totalCalculationsNeeded}`);
      console.log(`   Completed successfully: ${stats.successfulCalculations}`);
      console.log(`   Failed: ${stats.failedCalculations}`);
      console.log(`   Still needed: ${stats.calculationsNeeded}`);
      console.log(`   Success rate: ${stats.totalCalculations > 0 ? ((stats.successfulCalculations / stats.totalCalculations) * 100).toFixed(1) : 0}%`);
      
      console.log('\n⏰ ESTIMATES:');
      if (stats.calculationsNeeded > 0) {
        console.log(`   Time for remaining calculations: ~${Math.ceil(stats.calculationsNeeded / 3600)} hours`);
        console.log(`   Daily API limit impact: ${Math.ceil(stats.calculationsNeeded / 2000)} days minimum`);
      } else {
        console.log(`   All calculations complete! ✅`);
      }
      
      console.log('\n💡 RECOMMENDATIONS:');
      if (stats.usersNeedingLocationData > 0) {
        console.log(`   🔧 Run user location data initialization for ${stats.usersNeedingLocationData} users`);
      }
      if (stats.calculationsNeeded > 0) {
        console.log(`   🔧 Run distance calculation initialization for ${stats.calculationsNeeded} calculations`);
      }
      if (stats.failedCalculations > 0) {
        console.log(`   🔧 Retry ${stats.failedCalculations} failed calculations`);
      }
      if (stats.usersNeedingLocationData === 0 &amp;&amp; stats.calculationsNeeded === 0) {
        console.log(`   🎉 System is fully initialized and up to date!`);
      }
      
      console.log('\n=====================================\n');
      
      return stats;
    } catch (error) {
      console.error('Error generating system report:', error);
      throw error;
    }
  }

  /**
   * Retry all failed distance calculations
   */
  async retryFailedCalculations(maxRetries = 50) {
    console.log(`🔄 Retrying failed distance calculations (max ${maxRetries})...`);
    
    try {
      const result = await this.distanceService.retryFailedCalculations(maxRetries);
      
      console.log(`🎉 Retry completed!`);
      console.log(`   ✅ Successful: ${result.successful.length}`);
      console.log(`   ❌ Still failed: ${result.failed.length}`);
      console.log(`   📊 Total retried: ${result.totalRetried}`);
      
      return result;
    } catch (error) {
      console.error('❌ Error during retry:', error);
      throw error;
    }
  }

  /**
   * Update coordinates for users missing them
   */
  async updateMissingCoordinates() {
    console.log('🔄 Updating missing coordinates for user locations...');
    
    try {
      const usersWithoutCoords = await knex('user_locations')
        .whereNull('latitude')
        .orWhereNull('longitude')
        .select('user_id');
      
      if (usersWithoutCoords.length === 0) {
        console.log('✅ All users already have coordinates!');
        return { success: true, updated: 0 };
      }
      
      console.log(`📍 Found ${usersWithoutCoords.length} users missing coordinates`);
      
      let updated = 0;
      for (const user of usersWithoutCoords) {
        try {
          const result = await this.locationService.updateLocationWithCoordinates(user.user_id);
          if (result &amp;&amp; result.latitude &amp;&amp; result.longitude) {
            updated++;
          }
          
          // Rate limiting
          await this.delay(500);
        } catch (error) {
          console.error(`Failed to update coordinates for user ${user.user_id}:`, error.message);
        }
      }
      
      console.log(`✅ Updated coordinates for ${updated}/${usersWithoutCoords.length} users`);
      
      return { success: true, updated, total: usersWithoutCoords.length };
    } catch (error) {
      console.error('❌ Error updating missing coordinates:', error);
      throw error;
    }
  }

  /**
   * Simple delay utility
   */
  delay(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
  }

  /**
   * Simple confirmation prompt (for interactive use)
   */
  async confirmProceed(message) {
    // In a real interactive environment, you'd use readline or similar
    // For now, we'll check an environment variable
    return process.env.AUTO_CONFIRM === 'true';
  }
}

// CLI interface for running specific tasks
async function main() {
  const command = process.argv[2];
  const manager = new LocationDataManager();
  
  try {
    switch (command) {
      case 'report':
        await manager.printSystemReport();
        break;
        
      case 'init-users':
        await manager.initializeUserLocationData();
        break;
        
      case 'init-distances':
        await manager.initializeAllDistanceCalculations();
        break;
        
      case 'retry-failed':
        const maxRetries = parseInt(process.argv[3]) || 50;
        await manager.retryFailedCalculations(maxRetries);
        break;
        
      case 'update-coords':
        await manager.updateMissingCoordinates();
        break;
        
      case 'full-init':
        console.log('🚀 Running full system initialization...');
        await manager.initializeUserLocationData();
        await manager.delay(5000);
        await manager.updateMissingCoordinates();
        await manager.delay(5000);
        await manager.initializeAllDistanceCalculations();
        break;
        
      default:
        console.log('Location Data Manager');
        console.log('Usage: node location-data-manager.js &lt;command>');
        console.log('');
        console.log('Commands:');
        console.log('  report         - Show system status report');
        console.log('  init-users     - Initialize location data for users');
        console.log('  init-distances - Initialize all distance calculations');
        console.log('  retry-failed   - Retry failed distance calculations');
        console.log('  update-coords  - Update missing coordinates');
        console.log('  full-init      - Run complete system initialization');
        console.log('');
        console.log('Environment variables:');
        console.log('  AUTO_CONFIRM=true     - Skip confirmation prompts');
        console.log('  FORCE_INITIALIZE=true - Force initialization without prompts');
        break;
    }
  } catch (error) {
    console.error('❌ Command failed:', error);
    process.exit(1);
  }
  
  console.log('✅ Command completed successfully');
  process.exit(0);
}

// Export the manager class for use in other modules
module.exports = LocationDataManager;

// Run CLI if this file is executed directly
if (require.main === module) {
  main();
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-routes_assignments.html">routes/assignments</a></li><li><a href="module-routes_games.html">routes/games</a></li></ul><h3>Classes</h3><ul><li><a href="AdvancedPerformanceMetrics.html">AdvancedPerformanceMetrics</a></li><li><a href="ApiError.html">ApiError</a></li><li><a href="AppError.html">AppError</a></li><li><a href="ApprovalWorkflowService.html">ApprovalWorkflowService</a></li><li><a href="AuthenticationError.html">AuthenticationError</a></li><li><a href="AuthorizationError.html">AuthorizationError</a></li><li><a href="global.html#BaseService">BaseService</a></li><li><a href="BudgetCalculationService.html">BudgetCalculationService</a></li><li><a href="BusinessLogicError.html">BusinessLogicError</a></li><li><a href="ConfigurationError.html">ConfigurationError</a></li><li><a href="ConflictError.html">ConflictError</a></li><li><a href="DatabaseError.html">DatabaseError</a></li><li><a href="DistanceCalculationService.html">DistanceCalculationService</a></li><li><a href="EncryptionService.html">EncryptionService</a></li><li><a href="ErrorFactory.html">ErrorFactory</a></li><li><a href="ErrorLogger.html">ErrorLogger</a></li><li><a href="ErrorMetrics.html">ErrorMetrics</a></li><li><a href="ErrorUtils.html">ErrorUtils</a></li><li><a href="ExternalServiceError.html">ExternalServiceError</a></li><li><a href="FileProcessingError.html">FileProcessingError</a></li><li><a href="FinancialAIService.html">FinancialAIService</a></li><li><a href="LocationDataService.html">LocationDataService</a></li><li><a href="MetricsCollector.html">MetricsCollector</a></li><li><a href="NotFoundError.html">NotFoundError</a></li><li><a href="PaymentMethodService.html">PaymentMethodService</a></li><li><a href="QueryBuilder.html">QueryBuilder</a></li><li><a href="QueryCache.html">QueryCache</a></li><li><a href="QueryPerformanceAnalyzer.html">QueryPerformanceAnalyzer</a></li><li><a href="RateLimitError.html">RateLimitError</a></li><li><a href="ResponseFormatter.html">ResponseFormatter</a></li><li><a href="SecurityService.html">SecurityService</a></li><li><a href="ServiceFactory.html">ServiceFactory</a></li><li><a href="TimeoutError.html">TimeoutError</a></li><li><a href="UnprocessableEntityError.html">UnprocessableEntityError</a></li><li><a href="ValidationError.html">ValidationError</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AUDIT_EVENTS">AUDIT_EVENTS</a></li><li><a href="global.html#AUDIT_SEVERITY">AUDIT_SEVERITY</a></li><li><a href="global.html#AssignmentSchemas">AssignmentSchemas</a></li><li><a href="global.html#AuthSchemas">AuthSchemas</a></li><li><a href="global.html#AvailabilitySchemas">AvailabilitySchemas</a></li><li><a href="global.html#BaseSchemas">BaseSchemas</a></li><li><a href="global.html#BudgetSchemas">BudgetSchemas</a></li><li><a href="global.html#COMMON_PATTERNS">COMMON_PATTERNS</a></li><li><a href="global.html#CUSTOM_VALIDATORS">CUSTOM_VALIDATORS</a></li><li><a href="global.html#CacheHelpers">CacheHelpers</a></li><li><a href="global.html#CacheInvalidation">CacheInvalidation</a></li><li><a href="global.html#ERROR_MESSAGES">ERROR_MESSAGES</a></li><li><a href="global.html#ERROR_SEVERITY">ERROR_SEVERITY</a></li><li><a href="global.html#ERROR_TYPES">ERROR_TYPES</a></li><li><a href="global.html#FileSchemas">FileSchemas</a></li><li><a href="global.html#FilterSchemas">FilterSchemas</a></li><li><a href="global.html#GameSchemas">GameSchemas</a></li><li><a href="global.html#HTTP_STATUS">HTTP_STATUS</a></li><li><a href="global.html#IdParamSchema">IdParamSchema</a></li><li><a href="global.html#NodeCache">NodeCache</a></li><li><a href="global.html#PaginationSchema">PaginationSchema</a></li><li><a href="global.html#QueryHelpers">QueryHelpers</a></li><li><a href="global.html#SCHEMA_REGISTRY">SCHEMA_REGISTRY</a></li><li><a href="global.html#UserSchemas">UserSchemas</a></li><li><a href="global.html#VALIDATION_OPTIONS">VALIDATION_OPTIONS</a></li><li><a href="global.html#addMinutes">addMinutes</a></li><li><a href="global.html#advancedPerformanceMonitor">advancedPerformanceMonitor</a></li><li><a href="global.html#asyncHandler">asyncHandler</a></li><li><a href="global.html#auditMiddleware">auditMiddleware</a></li><li><a href="global.html#authLimiter">authLimiter</a></li><li><a href="global.html#autoValidate">autoValidate</a></li><li><a href="global.html#calculateAvailabilityScore">calculateAvailabilityScore</a></li><li><a href="global.html#calculateDatabaseHealthScore">calculateDatabaseHealthScore</a></li><li><a href="global.html#calculateEndTime">calculateEndTime</a></li><li><a href="global.html#calculateFinalWage">calculateFinalWage</a></li><li><a href="global.html#checkAssignmentConflicts">checkAssignmentConflicts</a></li><li><a href="global.html#checkGameSchedulingConflicts">checkGameSchedulingConflicts</a></li><li><a href="global.html#checkRefereeDoubleBooking">checkRefereeDoubleBooking</a></li><li><a href="global.html#checkServiceHealth">checkServiceHealth</a></li><li><a href="global.html#checkTimeOverlap">checkTimeOverlap</a></li><li><a href="global.html#checkTravelTimeConflict">checkTravelTimeConflict</a></li><li><a href="global.html#checkVenueConflict">checkVenueConflict</a></li><li><a href="global.html#clearSettingsCache">clearSettingsCache</a></li><li><a href="global.html#conditionalValidation">conditionalValidation</a></li><li><a href="global.html#createAuditLog">createAuditLog</a></li><li><a href="global.html#createAuditLogsTable">createAuditLogsTable</a></li><li><a href="global.html#createPerformanceRoute">createPerformanceRoute</a></li><li><a href="global.html#createSecurityMiddleware">createSecurityMiddleware</a></li><li><a href="global.html#createTableService">createTableService</a></li><li><a href="global.html#createValidationError">createValidationError</a></li><li><a href="global.html#createValidator">createValidator</a></li><li><a href="global.html#db">db</a></li><li><a href="global.html#determineErrorSeverity">determineErrorSeverity</a></li><li><a href="global.html#determineEventType">determineEventType</a></li><li><a href="global.html#determineHealthStatus">determineHealthStatus</a></li><li><a href="global.html#determineIfShouldLog">determineIfShouldLog</a></li><li><a href="global.html#determineSeverity">determineSeverity</a></li><li><a href="global.html#enforceHTTPS">enforceHTTPS</a></li><li><a href="global.html#enhancedAsyncHandler">enhancedAsyncHandler</a></li><li><a href="global.html#errorHandler">errorHandler</a></li><li><a href="global.html#errorHealthCheck">errorHealthCheck</a></li><li><a href="global.html#express">express</a></li><li><a href="global.html#findAvailableReferees">findAvailableReferees</a></li><li><a href="global.html#formatAvailabilityResponse">formatAvailabilityResponse</a></li><li><a href="global.html#formatBytes">formatBytes</a></li><li><a href="global.html#generateAdvancedRecommendations">generateAdvancedRecommendations</a></li><li><a href="global.html#generateCacheRecommendations">generateCacheRecommendations</a></li><li><a href="global.html#generateDatabaseInsights">generateDatabaseInsights</a></li><li><a href="global.html#generateGroupStagePlayoffs">generateGroupStagePlayoffs</a></li><li><a href="global.html#generateHealthRecommendations">generateHealthRecommendations</a></li><li><a href="global.html#generateRecommendations">generateRecommendations</a></li><li><a href="global.html#generateRoundRobin">generateRoundRobin</a></li><li><a href="global.html#generateSingleElimination">generateSingleElimination</a></li><li><a href="global.html#generateSwissSystem">generateSwissSystem</a></li><li><a href="global.html#generateTransactionNumber">generateTransactionNumber</a></li><li><a href="global.html#getAdvancedMetrics">getAdvancedMetrics</a></li><li><a href="global.html#getAggregatedMetrics">getAggregatedMetrics</a></li><li><a href="global.html#getAuditEventType">getAuditEventType</a></li><li><a href="global.html#getClientIP">getClientIP</a></li><li><a href="global.html#getCorsConfig">getCorsConfig</a></li><li><a href="global.html#getErrorMessage">getErrorMessage</a></li><li><a href="global.html#getMetricsCollector">getMetricsCollector</a></li><li><a href="global.html#getMetricsEvents">getMetricsEvents</a></li><li><a href="global.html#getMetricsSummary">getMetricsSummary</a></li><li><a href="global.html#getMinutesBetween">getMinutesBetween</a></li><li><a href="global.html#getOrganizationSettings">getOrganizationSettings</a></li><li><a href="global.html#getPerformanceEvents">getPerformanceEvents</a></li><li><a href="global.html#getPerformanceStats">getPerformanceStats</a></li><li><a href="global.html#getQueryPerformanceEvents">getQueryPerformanceEvents</a></li><li><a href="global.html#getQueryPerformanceStats">getQueryPerformanceStats</a></li><li><a href="global.html#getSecurityConfig">getSecurityConfig</a></li><li><a href="global.html#getService">getService</a></li><li><a href="global.html#getServices">getServices</a></li><li><a href="global.html#getSlowQueriesSummary">getSlowQueriesSummary</a></li><li><a href="global.html#getWageBreakdown">getWageBreakdown</a></li><li><a href="global.html#handleApprovedRequest">handleApprovedRequest</a></li><li><a href="global.html#handleDatabaseError">handleDatabaseError</a></li><li><a href="global.html#hasSchedulingConflict">hasSchedulingConflict</a></li><li><a href="global.html#initializeServices">initializeServices</a></li><li><a href="global.html#knex">knex</a></li><li><a href="global.html#logError">logError</a></li><li><a href="global.html#logRequest">logRequest</a></li><li><a href="global.html#logSuspiciousActivity">logSuspiciousActivity</a></li><li><a href="global.html#logUnauthorizedCorsAttempt">logUnauthorizedCorsAttempt</a></li><li><a href="global.html#metricsEvents">metricsEvents</a></li><li><a href="global.html#notFoundHandler">notFoundHandler</a></li><li><a href="global.html#parseSize">parseSize</a></li><li><a href="global.html#parseSqlQuery">parseSqlQuery</a></li><li><a href="global.html#performanceEvents">performanceEvents</a></li><li><a href="global.html#performanceMonitor">performanceMonitor</a></li><li><a href="global.html#queryAuditLogs">queryAuditLogs</a></li><li><a href="global.html#queryCache">queryCache</a></li><li><a href="global.html#queryPerformanceEvents">queryPerformanceEvents</a></li><li><a href="global.html#queryValidationSchemas">queryValidationSchemas</a></li><li><a href="global.html#requestContextMiddleware">requestContextMiddleware</a></li><li><a href="global.html#requestContexts">requestContexts</a></li><li><a href="global.html#requestSizeLimit">requestSizeLimit</a></li><li><a href="global.html#resetAdvancedMetrics">resetAdvancedMetrics</a></li><li><a href="global.html#resetAllMetrics">resetAllMetrics</a></li><li><a href="global.html#resetPerformanceStats">resetPerformanceStats</a></li><li><a href="global.html#resetQueryPerformanceStats">resetQueryPerformanceStats</a></li><li><a href="global.html#sanitizeAll">sanitizeAll</a></li><li><a href="global.html#sanitizeBody">sanitizeBody</a></li><li><a href="global.html#sanitizeBodyForLogging">sanitizeBodyForLogging</a></li><li><a href="global.html#sanitizeError">sanitizeError</a></li><li><a href="global.html#sanitizeHeaders">sanitizeHeaders</a></li><li><a href="global.html#sanitizeInput">sanitizeInput</a></li><li><a href="global.html#sanitizeObject">sanitizeObject</a></li><li><a href="global.html#sanitizeParams">sanitizeParams</a></li><li><a href="global.html#sanitizeQuery">sanitizeQuery</a></li><li><a href="global.html#sanitizeString">sanitizeString</a></li><li><a href="global.html#securityConfig">securityConfig</a></li><li><a href="global.html#securityMonitoring">securityMonitoring</a></li><li><a href="global.html#sendAlertToWebhook">sendAlertToWebhook</a></li><li><a href="global.html#setupAlertHandlers">setupAlertHandlers</a></li><li><a href="global.html#setupGlobalErrorHandlers">setupGlobalErrorHandlers</a></li><li><a href="global.html#subtractMinutes">subtractMinutes</a></li><li><a href="global.html#testIntegrationConnection">testIntegrationConnection</a></li><li><a href="global.html#trackCacheOperation">trackCacheOperation</a></li><li><a href="global.html#trackDbQuery">trackDbQuery</a></li><li><a href="global.html#updateMetricsConfig">updateMetricsConfig</a></li><li><a href="global.html#validateAvailabilityWindow">validateAvailabilityWindow</a></li><li><a href="global.html#validateBody">validateBody</a></li><li><a href="global.html#validateContentType">validateContentType</a></li><li><a href="global.html#validateEnvironment">validateEnvironment</a></li><li><a href="global.html#validateFile">validateFile</a></li><li><a href="global.html#validateIdParam">validateIdParam</a></li><li><a href="global.html#validateParams">validateParams</a></li><li><a href="global.html#validateQuery">validateQuery</a></li><li><a href="global.html#validateRefereeQualifications">validateRefereeQualifications</a></li><li><a href="global.html#validateRequest">validateRequest</a></li><li><a href="global.html#validateUuidParam">validateUuidParam</a></li><li><a href="global.html#validationSummary">validationSummary</a></li><li><a href="global.html#withDatabaseError">withDatabaseError</a></li><li><a href="global.html#withErrorBoundary">withErrorBoundary</a></li><li><a href="global.html#withServiceTransaction">withServiceTransaction</a></li><li><a href="global.html#wrapDatabaseConnection">wrapDatabaseConnection</a></li><li><a href="global.html#wrapDatabaseQuery">wrapDatabaseQuery</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Fri Aug 01 2025 16:15:52 GMT-0700 (Pacific Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
