<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: middleware/enhanced-error-handling.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: middleware/enhanced-error-handling.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview Enhanced error handling middleware for the Sports Management App
 * @description Provides comprehensive error handling, logging, and response formatting
 * with support for operational vs programming errors, request context tracking,
 * and production-safe error responses.
 */

const { ResponseFormatter } = require('../utils/response-formatters');
const { 
  ApiError, 
  ErrorUtils, 
  ErrorFactory,
  ValidationError,
  AuthenticationError,
  AuthorizationError,
  NotFoundError,
  ConflictError,
  DatabaseError,
  RateLimitError,
  TimeoutError
} = require('../utils/errors');

/**
 * Request context storage for error tracking
 */
const requestContexts = new Map();

/**
 * Error metrics collection (in-memory for now, could be replaced with external service)
 */
class ErrorMetrics {
  constructor() {
    this.counters = {
      total: 0,
      byStatusCode: {},
      byErrorType: {},
      byEndpoint: {}
    };
    this.startTime = Date.now();
  }

  increment(error, req) {
    this.counters.total++;
    
    const statusCode = error.statusCode || 500;
    this.counters.byStatusCode[statusCode] = (this.counters.byStatusCode[statusCode] || 0) + 1;
    
    const errorType = error.constructor.name;
    this.counters.byErrorType[errorType] = (this.counters.byErrorType[errorType] || 0) + 1;
    
    if (req) {
      const endpoint = `${req.method} ${req.route?.path || req.path}`;
      this.counters.byEndpoint[endpoint] = (this.counters.byEndpoint[endpoint] || 0) + 1;
    }
  }

  getStats() {
    return {
      ...this.counters,
      uptime: Date.now() - this.startTime,
      timestamp: new Date().toISOString()
    };
  }

  reset() {
    this.counters = {
      total: 0,
      byStatusCode: {},
      byErrorType: {},
      byEndpoint: {}
    };
  }
}

const errorMetrics = new ErrorMetrics();

/**
 * Enhanced logging utility for errors
 */
class ErrorLogger {
  /**
   * Log error with appropriate level based on severity
   */
  static log(error, req, errorId) {
    const context = ErrorUtils.getErrorContext(error, req);
    context.errorId = errorId;
    
    // Determine log level based on error type and status code
    const logLevel = this.getLogLevel(error);
    
    // Create structured log entry
    const logEntry = {
      level: logLevel,
      timestamp: context.timestamp,
      errorId,
      message: error.message,
      statusCode: error.statusCode || 500,
      errorType: error.constructor.name,
      isOperational: ErrorUtils.isOperational(error),
      stack: error.stack,
      context: {
        request: context.request,
        user: req?.user ? {
          id: req.user.id,
          email: req.user.email,
          role: req.user.role,
          organizationId: req.user.organization_id
        } : null,
        ...error.details &amp;&amp; { errorDetails: error.details }
      }
    };

    // Log based on level
    switch (logLevel) {
      case 'error':
        console.error('ERROR:', JSON.stringify(logEntry, null, 2));
        break;
      case 'warn':
        console.warn('WARNING:', JSON.stringify(logEntry, null, 2));
        break;
      case 'info':
        console.info('INFO:', JSON.stringify(logEntry, null, 2));
        break;
      default:
        console.log('LOG:', JSON.stringify(logEntry, null, 2));
    }

    // In production, you might want to send to external logging service
    if (process.env.NODE_ENV === 'production') {
      this.sendToExternalLogger(logEntry);
    }
  }

  /**
   * Determine appropriate log level for error
   */
  static getLogLevel(error) {
    if (!ErrorUtils.isOperational(error)) {
      return 'error'; // Programming errors are critical
    }

    const statusCode = error.statusCode || 500;
    
    if (statusCode >= 500) return 'error';
    if (statusCode >= 400) return 'warn';
    return 'info';
  }

  /**
   * Send log entry to external logging service (placeholder)
   */
  static sendToExternalLogger(logEntry) {
    // Implement integration with external logging service
    // Examples: Winston, Bunyan, Datadog, New Relic, etc.
    
    // For now, just indicate where external logging would happen
    if (process.env.EXTERNAL_LOGGING_ENABLED === 'true') {
      // External logging implementation would go here
    }
  }

  /**
   * Log security-related events
   */
  static logSecurityEvent(event, req, details = {}) {
    const securityLogEntry = {
      level: 'warn',
      type: 'SECURITY_EVENT',
      event,
      timestamp: new Date().toISOString(),
      ip: req?.ip,
      userAgent: req?.get('User-Agent'),
      userId: req?.user?.id,
      organizationId: req?.user?.organization_id,
      details
    };

    console.warn('SECURITY EVENT:', JSON.stringify(securityLogEntry, null, 2));
    
    // In production, immediately send security events to monitoring
    if (process.env.NODE_ENV === 'production') {
      this.sendToSecurityMonitoring(securityLogEntry);
    }
  }

  static sendToSecurityMonitoring(logEntry) {
    // Send to security monitoring service
    // Examples: Datadog Security, AWS Security Hub, etc.
  }
}

/**
 * Middleware to add request context tracking
 */
const requestContextMiddleware = (req, res, next) => {
  // Generate unique request ID
  req.requestId = req.get('X-Request-ID') || ErrorUtils.generateErrorId();
  
  // Add request ID to response headers
  res.set('X-Request-ID', req.requestId);
  
  // Store request context for error handling
  requestContexts.set(req.requestId, {
    startTime: Date.now(),
    method: req.method,
    url: req.url,
    ip: req.ip,
    userAgent: req.get('User-Agent'),
    userId: req.user?.id,
    organizationId: req.user?.organization_id
  });

  // Clean up context after response
  res.on('finish', () => {
    requestContexts.delete(req.requestId);
  });

  next();
};

/**
 * Enhanced async handler with better error capture
 */
const enhancedAsyncHandler = (handler) => {
  return async (req, res, next) => {
    try {
      await handler(req, res, next);
    } catch (error) {
      // Ensure we have an error ID for tracking
      if (!error.errorId) {
        error.errorId = ErrorUtils.generateErrorId();
      }

      // Convert known error types to ApiError instances
      if (!(error instanceof ApiError)) {
        if (error.name === 'ValidationError' &amp;&amp; error.details) {
          error = ErrorFactory.fromJoiError(error);
        } else if (error.code &amp;&amp; error.code.startsWith('23')) {
          error = ErrorFactory.fromDatabaseError(error);
        } else {
          // Wrap unknown errors
          const wrappedError = new Error('An unexpected error occurred');
          wrappedError.originalError = error;
          wrappedError.statusCode = 500;
          wrappedError.isOperational = false;
          error = wrappedError;
        }
      }

      next(error);
    }
  };
};

/**
 * Main error handling middleware
 */
const errorHandler = (error, req, res, next) => {
  // Skip if response already sent
  if (res.headersSent) {
    return next(error);
  }

  // Generate error ID if not present
  const errorId = error.errorId || ErrorUtils.generateErrorId();
  error.errorId = errorId;

  // Update metrics
  errorMetrics.increment(error, req);

  // Log the error
  ErrorLogger.log(error, req, errorId);

  // Handle specific error types
  let statusCode = 500;
  let responseData;

  if (error instanceof ApiError) {
    statusCode = error.statusCode;
    
    if (error.isOperational) {
      // Safe to expose operational errors
      responseData = ResponseFormatter.error(
        error.message,
        error.details,
        error.code,
        error instanceof ValidationError ? error.validationErrors : null
      );
    } else {
      // Don't expose programming errors in production
      responseData = ResponseFormatter.serverError(
        process.env.NODE_ENV === 'production' 
          ? 'An unexpected error occurred' 
          : error.message,
        process.env.NODE_ENV === 'development' ? error.details : null
      );
    }
  } else {
    // Handle native JavaScript errors and unknown errors
    const isProduction = process.env.NODE_ENV === 'production';
    
    if (error.name === 'CastError') {
      statusCode = 400;
      responseData = ResponseFormatter.validationError(
        [{ field: error.path, message: 'Invalid format' }]
      );
    } else if (error.name === 'ValidationError') {
      statusCode = 400;
      responseData = ResponseFormatter.validationError(
        Object.values(error.errors || {}).map(err => ({
          field: err.path,
          message: err.message
        }))
      );
    } else if (error.code === 11000) {
      // MongoDB duplicate key error
      statusCode = 409;
      responseData = ResponseFormatter.conflict('Duplicate entry detected');
    } else {
      // Generic server error
      responseData = ResponseFormatter.serverError(
        isProduction ? 'An unexpected error occurred' : error.message,
        isProduction ? null : error.stack
      );
    }
  }

  // Add error tracking ID to response
  responseData.errorId = errorId;
  responseData.requestId = req.requestId;

  // Add retry information for retryable errors
  if (error instanceof TimeoutError || error instanceof RateLimitError) {
    if (error.retryAfter) {
      res.set('Retry-After', error.retryAfter);
    }
  }

  // Send error response
  res.status(statusCode).json(responseData);
};

/**
 * 404 handler for unmatched routes
 */
const notFoundHandler = (req, res, next) => {
  const error = ErrorFactory.notFound('Endpoint', `${req.method} ${req.path}`);
  next(error);
};

/**
 * Graceful error handling for uncaught exceptions
 */
const setupGlobalErrorHandlers = () => {
  process.on('uncaughtException', (error) => {
    console.error('UNCAUGHT EXCEPTION:', error);
    ErrorLogger.log(error, null, ErrorUtils.generateErrorId());
    
    // In production, you might want to restart the server
    if (process.env.NODE_ENV === 'production') {
      console.error('Uncaught exception detected. Server should be restarted.');
      process.exit(1);
    }
  });

  process.on('unhandledRejection', (reason, promise) => {
    console.error('UNHANDLED REJECTION at:', promise, 'reason:', reason);
    
    const error = reason instanceof Error ? reason : new Error(String(reason));
    ErrorLogger.log(error, null, ErrorUtils.generateErrorId());
    
    // In production, you might want to restart the server
    if (process.env.NODE_ENV === 'production') {
      console.error('Unhandled rejection detected. Server should be restarted.');
      process.exit(1);
    }
  });
};

/**
 * Health check endpoint for error monitoring
 */
const errorHealthCheck = (req, res) => {
  const stats = errorMetrics.getStats();
  const isHealthy = stats.total &lt; 1000; // Example threshold
  
  res.status(isHealthy ? 200 : 503).json({
    status: isHealthy ? 'healthy' : 'degraded',
    errorStats: stats,
    timestamp: new Date().toISOString()
  });
};

/**
 * Middleware to validate request and throw appropriate errors
 */
const validateRequest = (schema, source = 'body') => {
  return (req, res, next) => {
    const data = req[source];
    const { error, value } = schema.validate(data, { abortEarly: false });
    
    if (error) {
      throw ErrorFactory.fromJoiError(error);
    }
    
    // Replace request data with validated/sanitized data
    req[source] = value;
    next();
  };
};

/**
 * Error boundary for critical operations
 */
const withErrorBoundary = (operation, fallback = null) => {
  return async (...args) => {
    try {
      return await operation(...args);
    } catch (error) {
      console.error('Error boundary caught:', error);
      
      if (fallback &amp;&amp; typeof fallback === 'function') {
        return fallback(error);
      }
      
      throw error;
    }
  };
};

module.exports = {
  // Main middleware
  errorHandler,
  notFoundHandler,
  requestContextMiddleware,
  enhancedAsyncHandler,
  
  // Validation middleware
  validateRequest,
  
  // Utilities
  ErrorLogger,
  errorMetrics,
  setupGlobalErrorHandlers,
  errorHealthCheck,
  withErrorBoundary,
  
  // For testing and monitoring
  ErrorMetrics
};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-routes_assignments.html">routes/assignments</a></li><li><a href="module-routes_games.html">routes/games</a></li></ul><h3>Classes</h3><ul><li><a href="AdvancedPerformanceMetrics.html">AdvancedPerformanceMetrics</a></li><li><a href="ApiError.html">ApiError</a></li><li><a href="AppError.html">AppError</a></li><li><a href="ApprovalWorkflowService.html">ApprovalWorkflowService</a></li><li><a href="AuthenticationError.html">AuthenticationError</a></li><li><a href="AuthorizationError.html">AuthorizationError</a></li><li><a href="global.html#BaseService">BaseService</a></li><li><a href="BudgetCalculationService.html">BudgetCalculationService</a></li><li><a href="BusinessLogicError.html">BusinessLogicError</a></li><li><a href="ConfigurationError.html">ConfigurationError</a></li><li><a href="ConflictError.html">ConflictError</a></li><li><a href="DatabaseError.html">DatabaseError</a></li><li><a href="DistanceCalculationService.html">DistanceCalculationService</a></li><li><a href="EncryptionService.html">EncryptionService</a></li><li><a href="ErrorFactory.html">ErrorFactory</a></li><li><a href="ErrorLogger.html">ErrorLogger</a></li><li><a href="ErrorMetrics.html">ErrorMetrics</a></li><li><a href="ErrorUtils.html">ErrorUtils</a></li><li><a href="ExternalServiceError.html">ExternalServiceError</a></li><li><a href="FileProcessingError.html">FileProcessingError</a></li><li><a href="FinancialAIService.html">FinancialAIService</a></li><li><a href="LocationDataService.html">LocationDataService</a></li><li><a href="MetricsCollector.html">MetricsCollector</a></li><li><a href="NotFoundError.html">NotFoundError</a></li><li><a href="PaymentMethodService.html">PaymentMethodService</a></li><li><a href="QueryBuilder.html">QueryBuilder</a></li><li><a href="QueryCache.html">QueryCache</a></li><li><a href="QueryPerformanceAnalyzer.html">QueryPerformanceAnalyzer</a></li><li><a href="RateLimitError.html">RateLimitError</a></li><li><a href="ResponseFormatter.html">ResponseFormatter</a></li><li><a href="SecurityService.html">SecurityService</a></li><li><a href="ServiceFactory.html">ServiceFactory</a></li><li><a href="TimeoutError.html">TimeoutError</a></li><li><a href="UnprocessableEntityError.html">UnprocessableEntityError</a></li><li><a href="ValidationError.html">ValidationError</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AUDIT_EVENTS">AUDIT_EVENTS</a></li><li><a href="global.html#AUDIT_SEVERITY">AUDIT_SEVERITY</a></li><li><a href="global.html#AssignmentSchemas">AssignmentSchemas</a></li><li><a href="global.html#AuthSchemas">AuthSchemas</a></li><li><a href="global.html#AvailabilitySchemas">AvailabilitySchemas</a></li><li><a href="global.html#BaseSchemas">BaseSchemas</a></li><li><a href="global.html#BudgetSchemas">BudgetSchemas</a></li><li><a href="global.html#COMMON_PATTERNS">COMMON_PATTERNS</a></li><li><a href="global.html#CUSTOM_VALIDATORS">CUSTOM_VALIDATORS</a></li><li><a href="global.html#CacheHelpers">CacheHelpers</a></li><li><a href="global.html#CacheInvalidation">CacheInvalidation</a></li><li><a href="global.html#ERROR_MESSAGES">ERROR_MESSAGES</a></li><li><a href="global.html#ERROR_SEVERITY">ERROR_SEVERITY</a></li><li><a href="global.html#ERROR_TYPES">ERROR_TYPES</a></li><li><a href="global.html#FileSchemas">FileSchemas</a></li><li><a href="global.html#FilterSchemas">FilterSchemas</a></li><li><a href="global.html#GameSchemas">GameSchemas</a></li><li><a href="global.html#HTTP_STATUS">HTTP_STATUS</a></li><li><a href="global.html#IdParamSchema">IdParamSchema</a></li><li><a href="global.html#NodeCache">NodeCache</a></li><li><a href="global.html#PaginationSchema">PaginationSchema</a></li><li><a href="global.html#QueryHelpers">QueryHelpers</a></li><li><a href="global.html#SCHEMA_REGISTRY">SCHEMA_REGISTRY</a></li><li><a href="global.html#UserSchemas">UserSchemas</a></li><li><a href="global.html#VALIDATION_OPTIONS">VALIDATION_OPTIONS</a></li><li><a href="global.html#addMinutes">addMinutes</a></li><li><a href="global.html#advancedPerformanceMonitor">advancedPerformanceMonitor</a></li><li><a href="global.html#asyncHandler">asyncHandler</a></li><li><a href="global.html#auditMiddleware">auditMiddleware</a></li><li><a href="global.html#authLimiter">authLimiter</a></li><li><a href="global.html#autoValidate">autoValidate</a></li><li><a href="global.html#calculateAvailabilityScore">calculateAvailabilityScore</a></li><li><a href="global.html#calculateDatabaseHealthScore">calculateDatabaseHealthScore</a></li><li><a href="global.html#calculateEndTime">calculateEndTime</a></li><li><a href="global.html#calculateFinalWage">calculateFinalWage</a></li><li><a href="global.html#checkAssignmentConflicts">checkAssignmentConflicts</a></li><li><a href="global.html#checkGameSchedulingConflicts">checkGameSchedulingConflicts</a></li><li><a href="global.html#checkRefereeDoubleBooking">checkRefereeDoubleBooking</a></li><li><a href="global.html#checkServiceHealth">checkServiceHealth</a></li><li><a href="global.html#checkTimeOverlap">checkTimeOverlap</a></li><li><a href="global.html#checkTravelTimeConflict">checkTravelTimeConflict</a></li><li><a href="global.html#checkVenueConflict">checkVenueConflict</a></li><li><a href="global.html#clearSettingsCache">clearSettingsCache</a></li><li><a href="global.html#conditionalValidation">conditionalValidation</a></li><li><a href="global.html#createAuditLog">createAuditLog</a></li><li><a href="global.html#createAuditLogsTable">createAuditLogsTable</a></li><li><a href="global.html#createPerformanceRoute">createPerformanceRoute</a></li><li><a href="global.html#createSecurityMiddleware">createSecurityMiddleware</a></li><li><a href="global.html#createTableService">createTableService</a></li><li><a href="global.html#createValidationError">createValidationError</a></li><li><a href="global.html#createValidator">createValidator</a></li><li><a href="global.html#db">db</a></li><li><a href="global.html#determineErrorSeverity">determineErrorSeverity</a></li><li><a href="global.html#determineEventType">determineEventType</a></li><li><a href="global.html#determineHealthStatus">determineHealthStatus</a></li><li><a href="global.html#determineIfShouldLog">determineIfShouldLog</a></li><li><a href="global.html#determineSeverity">determineSeverity</a></li><li><a href="global.html#enforceHTTPS">enforceHTTPS</a></li><li><a href="global.html#enhancedAsyncHandler">enhancedAsyncHandler</a></li><li><a href="global.html#errorHandler">errorHandler</a></li><li><a href="global.html#errorHealthCheck">errorHealthCheck</a></li><li><a href="global.html#express">express</a></li><li><a href="global.html#findAvailableReferees">findAvailableReferees</a></li><li><a href="global.html#formatAvailabilityResponse">formatAvailabilityResponse</a></li><li><a href="global.html#formatBytes">formatBytes</a></li><li><a href="global.html#generateAdvancedRecommendations">generateAdvancedRecommendations</a></li><li><a href="global.html#generateCacheRecommendations">generateCacheRecommendations</a></li><li><a href="global.html#generateDatabaseInsights">generateDatabaseInsights</a></li><li><a href="global.html#generateGroupStagePlayoffs">generateGroupStagePlayoffs</a></li><li><a href="global.html#generateHealthRecommendations">generateHealthRecommendations</a></li><li><a href="global.html#generateRecommendations">generateRecommendations</a></li><li><a href="global.html#generateRoundRobin">generateRoundRobin</a></li><li><a href="global.html#generateSingleElimination">generateSingleElimination</a></li><li><a href="global.html#generateSwissSystem">generateSwissSystem</a></li><li><a href="global.html#generateTransactionNumber">generateTransactionNumber</a></li><li><a href="global.html#getAdvancedMetrics">getAdvancedMetrics</a></li><li><a href="global.html#getAggregatedMetrics">getAggregatedMetrics</a></li><li><a href="global.html#getAuditEventType">getAuditEventType</a></li><li><a href="global.html#getClientIP">getClientIP</a></li><li><a href="global.html#getCorsConfig">getCorsConfig</a></li><li><a href="global.html#getErrorMessage">getErrorMessage</a></li><li><a href="global.html#getMetricsCollector">getMetricsCollector</a></li><li><a href="global.html#getMetricsEvents">getMetricsEvents</a></li><li><a href="global.html#getMetricsSummary">getMetricsSummary</a></li><li><a href="global.html#getMinutesBetween">getMinutesBetween</a></li><li><a href="global.html#getOrganizationSettings">getOrganizationSettings</a></li><li><a href="global.html#getPerformanceEvents">getPerformanceEvents</a></li><li><a href="global.html#getPerformanceStats">getPerformanceStats</a></li><li><a href="global.html#getQueryPerformanceEvents">getQueryPerformanceEvents</a></li><li><a href="global.html#getQueryPerformanceStats">getQueryPerformanceStats</a></li><li><a href="global.html#getSecurityConfig">getSecurityConfig</a></li><li><a href="global.html#getService">getService</a></li><li><a href="global.html#getServices">getServices</a></li><li><a href="global.html#getSlowQueriesSummary">getSlowQueriesSummary</a></li><li><a href="global.html#getWageBreakdown">getWageBreakdown</a></li><li><a href="global.html#handleApprovedRequest">handleApprovedRequest</a></li><li><a href="global.html#handleDatabaseError">handleDatabaseError</a></li><li><a href="global.html#hasSchedulingConflict">hasSchedulingConflict</a></li><li><a href="global.html#initializeServices">initializeServices</a></li><li><a href="global.html#knex">knex</a></li><li><a href="global.html#logError">logError</a></li><li><a href="global.html#logRequest">logRequest</a></li><li><a href="global.html#logSuspiciousActivity">logSuspiciousActivity</a></li><li><a href="global.html#logUnauthorizedCorsAttempt">logUnauthorizedCorsAttempt</a></li><li><a href="global.html#metricsEvents">metricsEvents</a></li><li><a href="global.html#notFoundHandler">notFoundHandler</a></li><li><a href="global.html#parseSize">parseSize</a></li><li><a href="global.html#parseSqlQuery">parseSqlQuery</a></li><li><a href="global.html#performanceEvents">performanceEvents</a></li><li><a href="global.html#performanceMonitor">performanceMonitor</a></li><li><a href="global.html#queryAuditLogs">queryAuditLogs</a></li><li><a href="global.html#queryCache">queryCache</a></li><li><a href="global.html#queryPerformanceEvents">queryPerformanceEvents</a></li><li><a href="global.html#queryValidationSchemas">queryValidationSchemas</a></li><li><a href="global.html#requestContextMiddleware">requestContextMiddleware</a></li><li><a href="global.html#requestContexts">requestContexts</a></li><li><a href="global.html#requestSizeLimit">requestSizeLimit</a></li><li><a href="global.html#resetAdvancedMetrics">resetAdvancedMetrics</a></li><li><a href="global.html#resetAllMetrics">resetAllMetrics</a></li><li><a href="global.html#resetPerformanceStats">resetPerformanceStats</a></li><li><a href="global.html#resetQueryPerformanceStats">resetQueryPerformanceStats</a></li><li><a href="global.html#sanitizeAll">sanitizeAll</a></li><li><a href="global.html#sanitizeBody">sanitizeBody</a></li><li><a href="global.html#sanitizeBodyForLogging">sanitizeBodyForLogging</a></li><li><a href="global.html#sanitizeError">sanitizeError</a></li><li><a href="global.html#sanitizeHeaders">sanitizeHeaders</a></li><li><a href="global.html#sanitizeInput">sanitizeInput</a></li><li><a href="global.html#sanitizeObject">sanitizeObject</a></li><li><a href="global.html#sanitizeParams">sanitizeParams</a></li><li><a href="global.html#sanitizeQuery">sanitizeQuery</a></li><li><a href="global.html#sanitizeString">sanitizeString</a></li><li><a href="global.html#securityConfig">securityConfig</a></li><li><a href="global.html#securityMonitoring">securityMonitoring</a></li><li><a href="global.html#sendAlertToWebhook">sendAlertToWebhook</a></li><li><a href="global.html#setupAlertHandlers">setupAlertHandlers</a></li><li><a href="global.html#setupGlobalErrorHandlers">setupGlobalErrorHandlers</a></li><li><a href="global.html#subtractMinutes">subtractMinutes</a></li><li><a href="global.html#testIntegrationConnection">testIntegrationConnection</a></li><li><a href="global.html#trackCacheOperation">trackCacheOperation</a></li><li><a href="global.html#trackDbQuery">trackDbQuery</a></li><li><a href="global.html#updateMetricsConfig">updateMetricsConfig</a></li><li><a href="global.html#validateAvailabilityWindow">validateAvailabilityWindow</a></li><li><a href="global.html#validateBody">validateBody</a></li><li><a href="global.html#validateContentType">validateContentType</a></li><li><a href="global.html#validateEnvironment">validateEnvironment</a></li><li><a href="global.html#validateFile">validateFile</a></li><li><a href="global.html#validateIdParam">validateIdParam</a></li><li><a href="global.html#validateParams">validateParams</a></li><li><a href="global.html#validateQuery">validateQuery</a></li><li><a href="global.html#validateRefereeQualifications">validateRefereeQualifications</a></li><li><a href="global.html#validateRequest">validateRequest</a></li><li><a href="global.html#validateUuidParam">validateUuidParam</a></li><li><a href="global.html#validationSummary">validationSummary</a></li><li><a href="global.html#withDatabaseError">withDatabaseError</a></li><li><a href="global.html#withErrorBoundary">withErrorBoundary</a></li><li><a href="global.html#withServiceTransaction">withServiceTransaction</a></li><li><a href="global.html#wrapDatabaseConnection">wrapDatabaseConnection</a></li><li><a href="global.html#wrapDatabaseQuery">wrapDatabaseQuery</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Fri Aug 01 2025 16:15:52 GMT-0700 (Pacific Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
