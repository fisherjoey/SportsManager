<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: services/UserService.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: services/UserService.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * UserService - User and referee management service
 * 
 * This service extends BaseService to provide specialized user and referee
 * management operations, including role-based queries, availability updates,
 * and referee-specific data handling.
 */

const BaseService = require('./BaseService');
const bcrypt = require('bcryptjs');

class UserService extends BaseService {
  constructor(db) {
    super('users', db, {
      defaultOrderBy: 'name',
      defaultOrderDirection: 'asc',
      enableAuditTrail: true
    });
  }

  /**
   * Find users by role with optional filters
   * @param {string} role - User role ('referee', 'admin', 'assignor')
   * @param {Object} filters - Additional filters
   * @param {Object} options - Query options
   * @returns {Array} Users matching the role and filters
   */
  async findByRole(role, filters = {}, options = {}) {
    try {
      const conditions = { role, ...filters };
      
      // For referees, include referee level information
      if (role === 'referee') {
        options.include = options.include || [];
        options.include.push({
          table: 'referee_levels',
          on: 'users.referee_level_id = referee_levels.id',
          type: 'left'
        });
        
        // Add referee-specific select fields
        if (!options.select) {
          options.select = [
            'users.*',
            'referee_levels.name as level_name',
            'referee_levels.allowed_divisions',
            'referee_levels.min_experience_years'
          ];
        }
      }
      
      return await this.findWhere(conditions, options);
    } catch (error) {
      console.error(`Error finding users by role ${role}:`, error);
      throw new Error(`Failed to find users by role: ${error.message}`);
    }
  }

  /**
   * Update user availability status
   * @param {string} userId - User ID
   * @param {boolean} isAvailable - Availability status
   * @param {Object} options - Update options
   * @returns {Object} Updated user record
   */
  async updateAvailability(userId, isAvailable, options = {}) {
    try {
      // Validate that user exists and is a referee
      const user = await this.findById(userId, { select: ['id', 'role'] });
      
      if (user.role !== 'referee') {
        throw new Error('Only referees can have their availability updated');
      }
      
      const updatedUser = await this.update(userId, { 
        is_available: isAvailable,
        availability_updated_at: new Date()
      }, options);
      
      // Log availability change for audit purposes
      if (this.options.enableAuditTrail) {
        console.log(`User ${userId} availability changed to: ${isAvailable}`);
      }
      
      return updatedUser;
    } catch (error) {
      console.error(`Error updating availability for user ${userId}:`, error);
      throw new Error(`Failed to update user availability: ${error.message}`);
    }
  }

  /**
   * Get user with complete referee details including assignments
   * @param {string} userId - User ID
   * @param {Object} options - Query options
   * @returns {Object} User with referee details
   */
  async getUserWithRefereeDetails(userId, options = {}) {
    try {
      // Get user with referee level information
      const user = await this.db('users')
        .leftJoin('referee_levels', 'users.referee_level_id', 'referee_levels.id')
        .select(
          'users.*',
          'referee_levels.name as level_name',
          'referee_levels.allowed_divisions',
          'referee_levels.min_experience_years',
          'referee_levels.pay_rate as level_pay_rate'
        )
        .where('users.id', userId)
        .first();

      if (!user) {
        throw new Error(`User not found with id: ${userId}`);
      }

      // If user is a referee, get additional referee-specific data
      if (user.role === 'referee') {
        // Get recent assignments
        const recentAssignments = await this.db('game_assignments')
          .join('games', 'game_assignments.game_id', 'games.id')
          .join('teams as home_teams', 'games.home_team_id', 'home_teams.id')
          .join('teams as away_teams', 'games.away_team_id', 'away_teams.id')
          .join('positions', 'game_assignments.position_id', 'positions.id')
          .select(
            'game_assignments.*',
            'games.game_date',
            'games.game_time',
            'games.location',
            'games.level',
            'home_teams.name as home_team_name',
            'away_teams.name as away_team_name',
            'positions.name as position_name'
          )
          .where('game_assignments.user_id', userId)
          .orderBy('games.game_date', 'desc')
          .limit(options.assignmentLimit || 10);

        // Get assignment statistics
        const assignmentStats = await this.db('game_assignments')
          .join('games', 'game_assignments.game_id', 'games.id')
          .select(
            this.db.raw('COUNT(*) as total_assignments'),
            this.db.raw("COUNT(CASE WHEN game_assignments.status = 'accepted' THEN 1 END) as accepted_assignments"),
            this.db.raw("COUNT(CASE WHEN game_assignments.status = 'declined' THEN 1 END) as declined_assignments"),
            this.db.raw("COUNT(CASE WHEN game_assignments.status = 'completed' THEN 1 END) as completed_assignments"),
            this.db.raw('SUM(game_assignments.calculated_wage) as total_earnings')
          )
          .where('game_assignments.user_id', userId)
          .first();

        // Add referee-specific data to user object
        user.recent_assignments = recentAssignments;
        user.assignment_stats = {
          total: parseInt(assignmentStats.total_assignments) || 0,
          accepted: parseInt(assignmentStats.accepted_assignments) || 0,
          declined: parseInt(assignmentStats.declined_assignments) || 0,
          completed: parseInt(assignmentStats.completed_assignments) || 0,
          total_earnings: parseFloat(assignmentStats.total_earnings) || 0
        };
      }

      return user;
    } catch (error) {
      console.error(`Error getting user with referee details ${userId}:`, error);
      throw new Error(`Failed to get user details: ${error.message}`);
    }
  }

  /**
   * Bulk update multiple users efficiently
   * @param {Array} updates - Array of update objects { id, data }
   * @param {Object} options - Update options
   * @returns {Object} Update results
   */
  async bulkUpdateUsers(updates, options = {}) {
    if (!Array.isArray(updates) || updates.length === 0) {
      throw new Error('Updates array is required and cannot be empty');
    }

    if (updates.length > 100) {
      throw new Error('Bulk update limited to 100 users at once');
    }

    return await this.withTransaction(async (trx) => {
      const results = {
        successful: [],
        failed: [],
        total: updates.length
      };

      for (const update of updates) {
        try {
          const { id, data } = update;
          
          if (!id || !data) {
            results.failed.push({
              id,
              error: 'Missing id or data in update object'
            });
            continue;
          }

          // Validate user exists
          const existingUser = await trx('users').where('id', id).first();
          if (!existingUser) {
            results.failed.push({
              id,
              error: 'User not found'
            });
            continue;
          }

          // Perform update
          const updatedUser = await this.update(id, data, { transaction: trx });
          results.successful.push({
            id,
            user: updatedUser
          });

        } catch (error) {
          console.error(`Error updating user ${update.id}:`, error);
          results.failed.push({
            id: update.id,
            error: error.message
          });
        }
      }

      return results;
    });
  }

  /**
   * Create a new referee with proper defaults
   * @param {Object} refereeData - Referee data
   * @param {Object} options - Creation options
   * @returns {Object} Created referee
   */
  async createReferee(refereeData, options = {}) {
    try {
      // Validate required referee fields
      if (!refereeData.name || !refereeData.email || !refereeData.postal_code) {
        throw new Error('Name, email, and postal_code are required for referee creation');
      }

      // Check if email already exists
      const existingUser = await this.findWhere({ email: refereeData.email });
      if (existingUser.length > 0) {
        throw new Error('Email already exists');
      }

      // Set referee defaults
      const refereeWithDefaults = {
        role: 'referee',
        is_available: true,
        max_distance: 25,
        wage_per_game: 0,
        availability_strategy: 'WHITELIST',
        ...refereeData,
        // Hash password if provided, otherwise set a temporary one
        password_hash: refereeData.password 
          ? await bcrypt.hash(refereeData.password, 12)
          : await bcrypt.hash('temp_password_' + Date.now(), 12)
      };

      // Remove plain password from data
      delete refereeWithDefaults.password;

      const referee = await this.create(refereeWithDefaults, options);
      
      // Remove password hash from returned object
      delete referee.password_hash;
      
      return referee;
    } catch (error) {
      console.error('Error creating referee:', error);
      throw new Error(`Failed to create referee: ${error.message}`);
    }
  }

  /**
   * Find available referees for a specific date/time
   * @param {string} gameDate - Game date (YYYY-MM-DD)
   * @param {string} gameTime - Game time (HH:MM)
   * @param {Object} options - Query options
   * @returns {Array} Available referees
   */
  async findAvailableReferees(gameDate, gameTime, options = {}) {
    try {
      const { level, maxDistance, location } = options;

      let query = this.db('users')
        .leftJoin('referee_levels', 'users.referee_level_id', 'referee_levels.id')
        .select(
          'users.*',
          'referee_levels.name as level_name',
          'referee_levels.allowed_divisions'
        )
        .where('users.role', 'referee')
        .where('users.is_available', true)
        .whereNotExists(function() {
          this.select('*')
            .from('game_assignments')
            .join('games', 'game_assignments.game_id', 'games.id')
            .whereRaw('game_assignments.user_id = users.id')
            .where('games.game_date', gameDate)
            .where('games.game_time', gameTime)
            .whereIn('game_assignments.status', ['pending', 'accepted']);
        });

      // Filter by level if specified
      if (level) {
        query = query.whereRaw(
          `referee_levels.allowed_divisions IS NULL OR 
           JSON_SEARCH(referee_levels.allowed_divisions, 'one', ?) IS NOT NULL`,
          [level]
        );
      }

      // Filter by maximum distance if location provided
      if (maxDistance &amp;&amp; location) {
        query = query.where('users.max_distance', '>=', maxDistance);
      }

      const availableReferees = await query.orderBy('users.name', 'asc');

      return availableReferees;
    } catch (error) {
      console.error(`Error finding available referees for ${gameDate} ${gameTime}:`, error);
      throw new Error(`Failed to find available referees: ${error.message}`);
    }
  }

  /**
   * Hook called after user creation
   * @param {Object} user - Created user
   * @param {Object} options - Creation options
   */
  async afterCreate(user, options) {
    if (this.options.enableAuditTrail) {
      console.log(`User created: ${user.id} (${user.role})`);
    }
  }

  /**
   * Hook called after user update
   * @param {Object} user - Updated user
   * @param {Object} previousUser - Previous user state
   * @param {Object} options - Update options
   */
  async afterUpdate(user, previousUser, options) {
    if (this.options.enableAuditTrail) {
      const changes = this._getChangedFields(previousUser, user);
      if (changes.length > 0) {
        console.log(`User updated: ${user.id}, changed fields: ${changes.join(', ')}`);
      }
    }
  }

  /**
   * Get changed fields between two user objects
   * @private
   * @param {Object} before - Previous state
   * @param {Object} after - Current state
   * @returns {Array} Changed field names
   */
  _getChangedFields(before, after) {
    const changes = [];
    const fields = ['name', 'email', 'phone', 'is_available', 'wage_per_game', 'max_distance'];
    
    fields.forEach(field => {
      if (before[field] !== after[field]) {
        changes.push(field);
      }
    });
    
    return changes;
  }
}

module.exports = UserService;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-routes_assignments.html">routes/assignments</a></li><li><a href="module-routes_games.html">routes/games</a></li></ul><h3>Classes</h3><ul><li><a href="AdvancedPerformanceMetrics.html">AdvancedPerformanceMetrics</a></li><li><a href="ApiError.html">ApiError</a></li><li><a href="AppError.html">AppError</a></li><li><a href="ApprovalWorkflowService.html">ApprovalWorkflowService</a></li><li><a href="AuthenticationError.html">AuthenticationError</a></li><li><a href="AuthorizationError.html">AuthorizationError</a></li><li><a href="global.html#BaseService">BaseService</a></li><li><a href="BudgetCalculationService.html">BudgetCalculationService</a></li><li><a href="BusinessLogicError.html">BusinessLogicError</a></li><li><a href="ConfigurationError.html">ConfigurationError</a></li><li><a href="ConflictError.html">ConflictError</a></li><li><a href="DatabaseError.html">DatabaseError</a></li><li><a href="DistanceCalculationService.html">DistanceCalculationService</a></li><li><a href="EncryptionService.html">EncryptionService</a></li><li><a href="ErrorFactory.html">ErrorFactory</a></li><li><a href="ErrorLogger.html">ErrorLogger</a></li><li><a href="ErrorMetrics.html">ErrorMetrics</a></li><li><a href="ErrorUtils.html">ErrorUtils</a></li><li><a href="ExternalServiceError.html">ExternalServiceError</a></li><li><a href="FileProcessingError.html">FileProcessingError</a></li><li><a href="FinancialAIService.html">FinancialAIService</a></li><li><a href="LocationDataService.html">LocationDataService</a></li><li><a href="MetricsCollector.html">MetricsCollector</a></li><li><a href="NotFoundError.html">NotFoundError</a></li><li><a href="PaymentMethodService.html">PaymentMethodService</a></li><li><a href="QueryBuilder.html">QueryBuilder</a></li><li><a href="QueryCache.html">QueryCache</a></li><li><a href="QueryPerformanceAnalyzer.html">QueryPerformanceAnalyzer</a></li><li><a href="RateLimitError.html">RateLimitError</a></li><li><a href="ResponseFormatter.html">ResponseFormatter</a></li><li><a href="SecurityService.html">SecurityService</a></li><li><a href="ServiceFactory.html">ServiceFactory</a></li><li><a href="TimeoutError.html">TimeoutError</a></li><li><a href="UnprocessableEntityError.html">UnprocessableEntityError</a></li><li><a href="ValidationError.html">ValidationError</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AUDIT_EVENTS">AUDIT_EVENTS</a></li><li><a href="global.html#AUDIT_SEVERITY">AUDIT_SEVERITY</a></li><li><a href="global.html#AssignmentSchemas">AssignmentSchemas</a></li><li><a href="global.html#AuthSchemas">AuthSchemas</a></li><li><a href="global.html#AvailabilitySchemas">AvailabilitySchemas</a></li><li><a href="global.html#BaseSchemas">BaseSchemas</a></li><li><a href="global.html#BudgetSchemas">BudgetSchemas</a></li><li><a href="global.html#COMMON_PATTERNS">COMMON_PATTERNS</a></li><li><a href="global.html#CUSTOM_VALIDATORS">CUSTOM_VALIDATORS</a></li><li><a href="global.html#CacheHelpers">CacheHelpers</a></li><li><a href="global.html#CacheInvalidation">CacheInvalidation</a></li><li><a href="global.html#ERROR_MESSAGES">ERROR_MESSAGES</a></li><li><a href="global.html#ERROR_SEVERITY">ERROR_SEVERITY</a></li><li><a href="global.html#ERROR_TYPES">ERROR_TYPES</a></li><li><a href="global.html#FileSchemas">FileSchemas</a></li><li><a href="global.html#FilterSchemas">FilterSchemas</a></li><li><a href="global.html#GameSchemas">GameSchemas</a></li><li><a href="global.html#HTTP_STATUS">HTTP_STATUS</a></li><li><a href="global.html#IdParamSchema">IdParamSchema</a></li><li><a href="global.html#NodeCache">NodeCache</a></li><li><a href="global.html#PaginationSchema">PaginationSchema</a></li><li><a href="global.html#QueryHelpers">QueryHelpers</a></li><li><a href="global.html#SCHEMA_REGISTRY">SCHEMA_REGISTRY</a></li><li><a href="global.html#UserSchemas">UserSchemas</a></li><li><a href="global.html#VALIDATION_OPTIONS">VALIDATION_OPTIONS</a></li><li><a href="global.html#addMinutes">addMinutes</a></li><li><a href="global.html#advancedPerformanceMonitor">advancedPerformanceMonitor</a></li><li><a href="global.html#asyncHandler">asyncHandler</a></li><li><a href="global.html#auditMiddleware">auditMiddleware</a></li><li><a href="global.html#authLimiter">authLimiter</a></li><li><a href="global.html#autoValidate">autoValidate</a></li><li><a href="global.html#calculateAvailabilityScore">calculateAvailabilityScore</a></li><li><a href="global.html#calculateDatabaseHealthScore">calculateDatabaseHealthScore</a></li><li><a href="global.html#calculateEndTime">calculateEndTime</a></li><li><a href="global.html#calculateFinalWage">calculateFinalWage</a></li><li><a href="global.html#checkAssignmentConflicts">checkAssignmentConflicts</a></li><li><a href="global.html#checkGameSchedulingConflicts">checkGameSchedulingConflicts</a></li><li><a href="global.html#checkRefereeDoubleBooking">checkRefereeDoubleBooking</a></li><li><a href="global.html#checkServiceHealth">checkServiceHealth</a></li><li><a href="global.html#checkTimeOverlap">checkTimeOverlap</a></li><li><a href="global.html#checkTravelTimeConflict">checkTravelTimeConflict</a></li><li><a href="global.html#checkVenueConflict">checkVenueConflict</a></li><li><a href="global.html#clearSettingsCache">clearSettingsCache</a></li><li><a href="global.html#conditionalValidation">conditionalValidation</a></li><li><a href="global.html#createAuditLog">createAuditLog</a></li><li><a href="global.html#createAuditLogsTable">createAuditLogsTable</a></li><li><a href="global.html#createPerformanceRoute">createPerformanceRoute</a></li><li><a href="global.html#createSecurityMiddleware">createSecurityMiddleware</a></li><li><a href="global.html#createTableService">createTableService</a></li><li><a href="global.html#createValidationError">createValidationError</a></li><li><a href="global.html#createValidator">createValidator</a></li><li><a href="global.html#db">db</a></li><li><a href="global.html#determineErrorSeverity">determineErrorSeverity</a></li><li><a href="global.html#determineEventType">determineEventType</a></li><li><a href="global.html#determineHealthStatus">determineHealthStatus</a></li><li><a href="global.html#determineIfShouldLog">determineIfShouldLog</a></li><li><a href="global.html#determineSeverity">determineSeverity</a></li><li><a href="global.html#enforceHTTPS">enforceHTTPS</a></li><li><a href="global.html#enhancedAsyncHandler">enhancedAsyncHandler</a></li><li><a href="global.html#errorHandler">errorHandler</a></li><li><a href="global.html#errorHealthCheck">errorHealthCheck</a></li><li><a href="global.html#express">express</a></li><li><a href="global.html#findAvailableReferees">findAvailableReferees</a></li><li><a href="global.html#formatAvailabilityResponse">formatAvailabilityResponse</a></li><li><a href="global.html#formatBytes">formatBytes</a></li><li><a href="global.html#generateAdvancedRecommendations">generateAdvancedRecommendations</a></li><li><a href="global.html#generateCacheRecommendations">generateCacheRecommendations</a></li><li><a href="global.html#generateDatabaseInsights">generateDatabaseInsights</a></li><li><a href="global.html#generateGroupStagePlayoffs">generateGroupStagePlayoffs</a></li><li><a href="global.html#generateHealthRecommendations">generateHealthRecommendations</a></li><li><a href="global.html#generateRecommendations">generateRecommendations</a></li><li><a href="global.html#generateRoundRobin">generateRoundRobin</a></li><li><a href="global.html#generateSingleElimination">generateSingleElimination</a></li><li><a href="global.html#generateSwissSystem">generateSwissSystem</a></li><li><a href="global.html#generateTransactionNumber">generateTransactionNumber</a></li><li><a href="global.html#getAdvancedMetrics">getAdvancedMetrics</a></li><li><a href="global.html#getAggregatedMetrics">getAggregatedMetrics</a></li><li><a href="global.html#getAuditEventType">getAuditEventType</a></li><li><a href="global.html#getClientIP">getClientIP</a></li><li><a href="global.html#getCorsConfig">getCorsConfig</a></li><li><a href="global.html#getErrorMessage">getErrorMessage</a></li><li><a href="global.html#getMetricsCollector">getMetricsCollector</a></li><li><a href="global.html#getMetricsEvents">getMetricsEvents</a></li><li><a href="global.html#getMetricsSummary">getMetricsSummary</a></li><li><a href="global.html#getMinutesBetween">getMinutesBetween</a></li><li><a href="global.html#getOrganizationSettings">getOrganizationSettings</a></li><li><a href="global.html#getPerformanceEvents">getPerformanceEvents</a></li><li><a href="global.html#getPerformanceStats">getPerformanceStats</a></li><li><a href="global.html#getQueryPerformanceEvents">getQueryPerformanceEvents</a></li><li><a href="global.html#getQueryPerformanceStats">getQueryPerformanceStats</a></li><li><a href="global.html#getSecurityConfig">getSecurityConfig</a></li><li><a href="global.html#getService">getService</a></li><li><a href="global.html#getServices">getServices</a></li><li><a href="global.html#getSlowQueriesSummary">getSlowQueriesSummary</a></li><li><a href="global.html#getWageBreakdown">getWageBreakdown</a></li><li><a href="global.html#handleApprovedRequest">handleApprovedRequest</a></li><li><a href="global.html#handleDatabaseError">handleDatabaseError</a></li><li><a href="global.html#hasSchedulingConflict">hasSchedulingConflict</a></li><li><a href="global.html#initializeServices">initializeServices</a></li><li><a href="global.html#knex">knex</a></li><li><a href="global.html#logError">logError</a></li><li><a href="global.html#logRequest">logRequest</a></li><li><a href="global.html#logSuspiciousActivity">logSuspiciousActivity</a></li><li><a href="global.html#logUnauthorizedCorsAttempt">logUnauthorizedCorsAttempt</a></li><li><a href="global.html#metricsEvents">metricsEvents</a></li><li><a href="global.html#notFoundHandler">notFoundHandler</a></li><li><a href="global.html#parseSize">parseSize</a></li><li><a href="global.html#parseSqlQuery">parseSqlQuery</a></li><li><a href="global.html#performanceEvents">performanceEvents</a></li><li><a href="global.html#performanceMonitor">performanceMonitor</a></li><li><a href="global.html#queryAuditLogs">queryAuditLogs</a></li><li><a href="global.html#queryCache">queryCache</a></li><li><a href="global.html#queryPerformanceEvents">queryPerformanceEvents</a></li><li><a href="global.html#queryValidationSchemas">queryValidationSchemas</a></li><li><a href="global.html#requestContextMiddleware">requestContextMiddleware</a></li><li><a href="global.html#requestContexts">requestContexts</a></li><li><a href="global.html#requestSizeLimit">requestSizeLimit</a></li><li><a href="global.html#resetAdvancedMetrics">resetAdvancedMetrics</a></li><li><a href="global.html#resetAllMetrics">resetAllMetrics</a></li><li><a href="global.html#resetPerformanceStats">resetPerformanceStats</a></li><li><a href="global.html#resetQueryPerformanceStats">resetQueryPerformanceStats</a></li><li><a href="global.html#sanitizeAll">sanitizeAll</a></li><li><a href="global.html#sanitizeBody">sanitizeBody</a></li><li><a href="global.html#sanitizeBodyForLogging">sanitizeBodyForLogging</a></li><li><a href="global.html#sanitizeError">sanitizeError</a></li><li><a href="global.html#sanitizeHeaders">sanitizeHeaders</a></li><li><a href="global.html#sanitizeInput">sanitizeInput</a></li><li><a href="global.html#sanitizeObject">sanitizeObject</a></li><li><a href="global.html#sanitizeParams">sanitizeParams</a></li><li><a href="global.html#sanitizeQuery">sanitizeQuery</a></li><li><a href="global.html#sanitizeString">sanitizeString</a></li><li><a href="global.html#securityConfig">securityConfig</a></li><li><a href="global.html#securityMonitoring">securityMonitoring</a></li><li><a href="global.html#sendAlertToWebhook">sendAlertToWebhook</a></li><li><a href="global.html#setupAlertHandlers">setupAlertHandlers</a></li><li><a href="global.html#setupGlobalErrorHandlers">setupGlobalErrorHandlers</a></li><li><a href="global.html#subtractMinutes">subtractMinutes</a></li><li><a href="global.html#testIntegrationConnection">testIntegrationConnection</a></li><li><a href="global.html#trackCacheOperation">trackCacheOperation</a></li><li><a href="global.html#trackDbQuery">trackDbQuery</a></li><li><a href="global.html#updateMetricsConfig">updateMetricsConfig</a></li><li><a href="global.html#validateAvailabilityWindow">validateAvailabilityWindow</a></li><li><a href="global.html#validateBody">validateBody</a></li><li><a href="global.html#validateContentType">validateContentType</a></li><li><a href="global.html#validateEnvironment">validateEnvironment</a></li><li><a href="global.html#validateFile">validateFile</a></li><li><a href="global.html#validateIdParam">validateIdParam</a></li><li><a href="global.html#validateParams">validateParams</a></li><li><a href="global.html#validateQuery">validateQuery</a></li><li><a href="global.html#validateRefereeQualifications">validateRefereeQualifications</a></li><li><a href="global.html#validateRequest">validateRequest</a></li><li><a href="global.html#validateUuidParam">validateUuidParam</a></li><li><a href="global.html#validationSummary">validationSummary</a></li><li><a href="global.html#withDatabaseError">withDatabaseError</a></li><li><a href="global.html#withErrorBoundary">withErrorBoundary</a></li><li><a href="global.html#withServiceTransaction">withServiceTransaction</a></li><li><a href="global.html#wrapDatabaseConnection">wrapDatabaseConnection</a></li><li><a href="global.html#wrapDatabaseQuery">wrapDatabaseQuery</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Fri Aug 01 2025 16:15:52 GMT-0700 (Pacific Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
