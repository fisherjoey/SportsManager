<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: middleware/validation.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: middleware/validation.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview Request validation middleware for the Sports Management App
 * @description Provides comprehensive request validation using Joi schemas with
 * support for conditional validation, custom sanitization, and detailed error reporting.
 */

const Joi = require('joi');
const { 
  UserSchemas, 
  GameSchemas, 
  AssignmentSchemas, 
  BudgetSchemas, 
  AuthSchemas,
  FilterSchemas,
  IdParamSchema,
  PaginationSchema,
  AvailabilitySchemas
} = require('../utils/validation-schemas');
const { ErrorFactory, ValidationError } = require('../utils/errors');

/**
 * Validation options for different contexts
 */
const VALIDATION_OPTIONS = {
  // Standard validation - strict by default
  strict: {
    abortEarly: false,
    allowUnknown: false,
    stripUnknown: false,
    presence: 'required'
  },
  
  // Flexible validation for updates (allows partial data)
  flexible: {
    abortEarly: false,
    allowUnknown: false,
    stripUnknown: true,
    presence: 'optional'
  },
  
  // Query validation (more permissive)
  query: {
    abortEarly: false,
    allowUnknown: true,
    stripUnknown: true,
    convert: true
  },
  
  // File upload validation
  upload: {
    abortEarly: false,
    allowUnknown: true,
    stripUnknown: false
  }
};

/**
 * Registry of validation schemas organized by route and method
 */
const SCHEMA_REGISTRY = {
  // User routes
  users: {
    'POST /': UserSchemas.create,
    'PUT /:id': UserSchemas.adminUpdate,
    'PATCH /:id': UserSchemas.update,
    'GET /': FilterSchemas.referees, // Users can be filtered like referees
    'GET /:id': IdParamSchema
  },
  
  // Referee routes
  referees: {
    'POST /': UserSchemas.create,
    'PUT /:id': UserSchemas.adminUpdate,
    'PATCH /:id': UserSchemas.update,
    'GET /': FilterSchemas.referees,
    'GET /:id': IdParamSchema,
    'PATCH /:id/availability': Joi.object({
      is_available: Joi.boolean().required()
    })
  },
  
  // Game routes
  games: {
    'POST /': GameSchemas.create,
    'PUT /:id': GameSchemas.update,
    'PATCH /:id/status': Joi.object({
      status: Joi.string().valid('scheduled', 'in_progress', 'completed', 'cancelled').required()
    }),
    'GET /': FilterSchemas.games,
    'GET /:id': IdParamSchema,
    'POST /bulk-import': Joi.object({
      games: Joi.array().items(GameSchemas.create).min(1).max(100).required()
    })
  },
  
  // Assignment routes
  assignments: {
    'POST /': AssignmentSchemas.create,
    'PUT /:id': AssignmentSchemas.update,
    'PATCH /:id/status': Joi.object({
      status: Joi.string().valid('assigned', 'accepted', 'declined', 'completed').required()
    }),
    'GET /': FilterSchemas.assignments,
    'GET /:id': IdParamSchema,
    'POST /bulk': AssignmentSchemas.bulk,
    'POST /check-conflicts': AssignmentSchemas.create
  },
  
  // Budget routes
  budgets: {
    'POST /': BudgetSchemas.item,
    'PUT /:id': BudgetSchemas.item,
    'GET /': Joi.object({
      period_id: Joi.string().uuid().optional(),
      category_id: Joi.string().uuid().optional(),
      status: Joi.string().valid('draft', 'approved', 'active', 'locked', 'closed').optional(),
      owner_id: Joi.string().uuid().optional(),
      include_allocations: Joi.boolean().default(false),
      include_summary: Joi.boolean().default(false)
    }).concat(PaginationSchema),
    'GET /:id': IdParamSchema,
    'POST /periods': BudgetSchemas.period,
    'GET /periods': Joi.object({
      status: Joi.string().valid('draft', 'active', 'closed', 'archived').optional()
    }).concat(PaginationSchema)
  },
  
  // Authentication routes
  auth: {
    'POST /login': AuthSchemas.login,
    'POST /register': AuthSchemas.register,
    'POST /forgot-password': AuthSchemas.passwordReset,
    'POST /reset-password': Joi.object({
      token: Joi.string().required(),
      password: Joi.string().min(8).max(128).required(),
      confirmPassword: Joi.string().valid(Joi.ref('password')).required()
    }),
    'POST /change-password': AuthSchemas.passwordUpdate
  },
  
  // Availability routes
  availability: {
    'POST /': AvailabilitySchemas.create,
    'PUT /:id': AvailabilitySchemas.update,
    'GET /:id': IdParamSchema,
    'GET /': Joi.object({
      user_id: Joi.string().uuid().optional(),
      start_date: Joi.date().optional(),
      end_date: Joi.date().optional(),
      is_available: Joi.boolean().optional()
    }).concat(PaginationSchema)
  }
};

/**
 * Custom validation rules for business logic
 */
const CUSTOM_VALIDATORS = {
  /**
   * Validate date is not in the past
   */
  futureDate: (value, helpers) => {
    if (value &lt;= new Date()) {
      return helpers.error('date.future');
    }
    return value;
  },
  
  /**
   * Validate time is in valid business hours
   */
  businessHours: (value, helpers) => {
    const [hours] = value.split(':').map(Number);
    if (hours &lt; 6 || hours > 23) {
      return helpers.error('time.businessHours');
    }
    return value;
  },
  
  /**
   * Validate postal code format based on context
   */
  postalCodeByRegion: (value, helpers) => {
    // This could be enhanced to validate based on user's region
    const cleanValue = value.replace(/\s+/g, '').toUpperCase();
    
    // Canadian postal code pattern
    if (/^[A-Z]\d[A-Z]\d[A-Z]\d$/.test(cleanValue)) {
      return cleanValue;
    }
    
    // US ZIP code pattern
    if (/^\d{5}(-\d{4})?$/.test(cleanValue)) {
      return cleanValue;
    }
    
    return helpers.error('postalCode.invalid');
  }
};

/**
 * Enhanced error messages for better user experience
 */
const ERROR_MESSAGES = {
  'date.future': 'Date must be in the future',
  'time.businessHours': 'Time must be between 6:00 AM and 11:00 PM',
  'postalCode.invalid': 'Invalid postal code format',
  'string.email': 'Please provide a valid email address',
  'string.min': 'Field must be at least {#limit} characters long',
  'string.max': 'Field must not exceed {#limit} characters',
  'number.min': 'Value must be at least {#limit}',
  'number.max': 'Value must not exceed {#limit}',
  'any.required': 'This field is required',
  'array.min': 'Must contain at least {#limit} items',
  'array.max': 'Must not contain more than {#limit} items'
};

/**
 * Create validation middleware for a specific schema and source
 */
const createValidator = (schema, source = 'body', options = VALIDATION_OPTIONS.strict) => {
  return (req, res, next) => {
    try {
      const data = req[source];
      
      // Apply custom validation rules
      const extendedSchema = schema.messages(ERROR_MESSAGES);
      
      const { error, value } = extendedSchema.validate(data, options);
      
      if (error) {
        throw ErrorFactory.fromJoiError(error, `${source} validation failed`);
      }
      
      // Replace request data with validated and sanitized data
      req[source] = value;
      
      next();
    } catch (err) {
      next(err);
    }
  };
};

/**
 * Validate request body
 */
const validateBody = (schema, options) => {
  return createValidator(schema, 'body', options);
};

/**
 * Validate query parameters
 */
const validateQuery = (schema, options = VALIDATION_OPTIONS.query) => {
  return createValidator(schema, 'query', options);
};

/**
 * Validate URL parameters
 */
const validateParams = (schema, options = VALIDATION_OPTIONS.strict) => {
  return createValidator(schema, 'params', options);
};

/**
 * Validate file upload
 */
const validateFile = (schema, options = VALIDATION_OPTIONS.upload) => {
  return (req, res, next) => {
    try {
      if (!req.file &amp;&amp; !req.files) {
        throw new ValidationError('File upload required');
      }
      
      const fileData = req.file || req.files;
      const { error, value } = schema.validate(fileData, options);
      
      if (error) {
        throw ErrorFactory.fromJoiError(error, 'File validation failed');
      }
      
      req.validatedFile = value;
      next();
    } catch (err) {
      next(err);
    }
  };
};

/**
 * Conditional validation based on request context
 */
const conditionalValidation = (conditions) => {
  return (req, res, next) => {
    try {
      for (const condition of conditions) {
        if (condition.when(req)) {
          const { error, value } = condition.schema.validate(
            req[condition.source || 'body'], 
            condition.options || VALIDATION_OPTIONS.strict
          );
          
          if (error) {
            throw ErrorFactory.fromJoiError(error, condition.message || 'Conditional validation failed');
          }
          
          req[condition.source || 'body'] = value;
          break;
        }
      }
      
      next();
    } catch (err) {
      next(err);
    }
  };
};

/**
 * Auto-select validation schema based on route
 */
const autoValidate = (routePrefix) => {
  return (req, res, next) => {
    try {
      const routeKey = `${req.method} ${req.route?.path || req.path}`;
      const schemas = SCHEMA_REGISTRY[routePrefix];
      
      if (!schemas || !schemas[routeKey]) {
        return next(); // No validation required
      }
      
      const schema = schemas[routeKey];
      const source = req.method === 'GET' ? 'query' : 'body';
      const options = req.method === 'GET' ? VALIDATION_OPTIONS.query : VALIDATION_OPTIONS.strict;
      
      const { error, value } = schema.validate(req[source], options);
      
      if (error) {
        throw ErrorFactory.fromJoiError(error);
      }
      
      req[source] = value;
      next();
    } catch (err) {
      next(err);
    }
  };
};

/**
 * Sanitization middleware to clean and normalize input
 */
const sanitizeInput = (req, res, next) => {
  const sanitizeObject = (obj) => {
    if (typeof obj !== 'object' || obj === null) return obj;
    
    const sanitized = {};
    for (const [key, value] of Object.entries(obj)) {
      if (typeof value === 'string') {
        // Trim whitespace
        sanitized[key] = value.trim();
        
        // Normalize email
        if (key.toLowerCase().includes('email')) {
          sanitized[key] = value.toLowerCase();
        }
        
        // Clean postal codes
        if (key.toLowerCase().includes('postal')) {
          sanitized[key] = value.replace(/\s+/g, '').toUpperCase();
        }
      } else if (Array.isArray(value)) {
        sanitized[key] = value.map(sanitizeObject);
      } else if (typeof value === 'object') {
        sanitized[key] = sanitizeObject(value);
      } else {
        sanitized[key] = value;
      }
    }
    return sanitized;
  };
  
  // Sanitize body
  if (req.body) {
    req.body = sanitizeObject(req.body);
  }
  
  // Sanitize query
  if (req.query) {
    req.query = sanitizeObject(req.query);
  }
  
  next();
};

/**
 * Validation summary middleware for debugging
 */
const validationSummary = (req, res, next) => {
  if (process.env.NODE_ENV === 'development') {
    console.log('Validation Summary:', {
      method: req.method,
      path: req.path,
      bodyKeys: req.body ? Object.keys(req.body) : [],
      queryKeys: req.query ? Object.keys(req.query) : [],
      paramsKeys: req.params ? Object.keys(req.params) : []
    });
  }
  next();
};

module.exports = {
  // Main validation functions
  validateBody,
  validateQuery,
  validateParams,
  validateFile,
  conditionalValidation,
  autoValidate,
  
  // Utility middleware
  sanitizeInput,
  validationSummary,
  
  // Schema creation
  createValidator,
  
  // Configuration
  VALIDATION_OPTIONS,
  SCHEMA_REGISTRY,
  CUSTOM_VALIDATORS,
  ERROR_MESSAGES
};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-routes_assignments.html">routes/assignments</a></li><li><a href="module-routes_games.html">routes/games</a></li></ul><h3>Classes</h3><ul><li><a href="AdvancedPerformanceMetrics.html">AdvancedPerformanceMetrics</a></li><li><a href="ApiError.html">ApiError</a></li><li><a href="AppError.html">AppError</a></li><li><a href="ApprovalWorkflowService.html">ApprovalWorkflowService</a></li><li><a href="AuthenticationError.html">AuthenticationError</a></li><li><a href="AuthorizationError.html">AuthorizationError</a></li><li><a href="global.html#BaseService">BaseService</a></li><li><a href="BudgetCalculationService.html">BudgetCalculationService</a></li><li><a href="BusinessLogicError.html">BusinessLogicError</a></li><li><a href="ConfigurationError.html">ConfigurationError</a></li><li><a href="ConflictError.html">ConflictError</a></li><li><a href="DatabaseError.html">DatabaseError</a></li><li><a href="DistanceCalculationService.html">DistanceCalculationService</a></li><li><a href="EncryptionService.html">EncryptionService</a></li><li><a href="ErrorFactory.html">ErrorFactory</a></li><li><a href="ErrorLogger.html">ErrorLogger</a></li><li><a href="ErrorMetrics.html">ErrorMetrics</a></li><li><a href="ErrorUtils.html">ErrorUtils</a></li><li><a href="ExternalServiceError.html">ExternalServiceError</a></li><li><a href="FileProcessingError.html">FileProcessingError</a></li><li><a href="FinancialAIService.html">FinancialAIService</a></li><li><a href="LocationDataService.html">LocationDataService</a></li><li><a href="MetricsCollector.html">MetricsCollector</a></li><li><a href="NotFoundError.html">NotFoundError</a></li><li><a href="PaymentMethodService.html">PaymentMethodService</a></li><li><a href="QueryBuilder.html">QueryBuilder</a></li><li><a href="QueryCache.html">QueryCache</a></li><li><a href="QueryPerformanceAnalyzer.html">QueryPerformanceAnalyzer</a></li><li><a href="RateLimitError.html">RateLimitError</a></li><li><a href="ResponseFormatter.html">ResponseFormatter</a></li><li><a href="SecurityService.html">SecurityService</a></li><li><a href="ServiceFactory.html">ServiceFactory</a></li><li><a href="TimeoutError.html">TimeoutError</a></li><li><a href="UnprocessableEntityError.html">UnprocessableEntityError</a></li><li><a href="ValidationError.html">ValidationError</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AUDIT_EVENTS">AUDIT_EVENTS</a></li><li><a href="global.html#AUDIT_SEVERITY">AUDIT_SEVERITY</a></li><li><a href="global.html#AssignmentSchemas">AssignmentSchemas</a></li><li><a href="global.html#AuthSchemas">AuthSchemas</a></li><li><a href="global.html#AvailabilitySchemas">AvailabilitySchemas</a></li><li><a href="global.html#BaseSchemas">BaseSchemas</a></li><li><a href="global.html#BudgetSchemas">BudgetSchemas</a></li><li><a href="global.html#COMMON_PATTERNS">COMMON_PATTERNS</a></li><li><a href="global.html#CUSTOM_VALIDATORS">CUSTOM_VALIDATORS</a></li><li><a href="global.html#CacheHelpers">CacheHelpers</a></li><li><a href="global.html#CacheInvalidation">CacheInvalidation</a></li><li><a href="global.html#ERROR_MESSAGES">ERROR_MESSAGES</a></li><li><a href="global.html#ERROR_SEVERITY">ERROR_SEVERITY</a></li><li><a href="global.html#ERROR_TYPES">ERROR_TYPES</a></li><li><a href="global.html#FileSchemas">FileSchemas</a></li><li><a href="global.html#FilterSchemas">FilterSchemas</a></li><li><a href="global.html#GameSchemas">GameSchemas</a></li><li><a href="global.html#HTTP_STATUS">HTTP_STATUS</a></li><li><a href="global.html#IdParamSchema">IdParamSchema</a></li><li><a href="global.html#NodeCache">NodeCache</a></li><li><a href="global.html#PaginationSchema">PaginationSchema</a></li><li><a href="global.html#QueryHelpers">QueryHelpers</a></li><li><a href="global.html#SCHEMA_REGISTRY">SCHEMA_REGISTRY</a></li><li><a href="global.html#UserSchemas">UserSchemas</a></li><li><a href="global.html#VALIDATION_OPTIONS">VALIDATION_OPTIONS</a></li><li><a href="global.html#addMinutes">addMinutes</a></li><li><a href="global.html#advancedPerformanceMonitor">advancedPerformanceMonitor</a></li><li><a href="global.html#asyncHandler">asyncHandler</a></li><li><a href="global.html#auditMiddleware">auditMiddleware</a></li><li><a href="global.html#authLimiter">authLimiter</a></li><li><a href="global.html#autoValidate">autoValidate</a></li><li><a href="global.html#calculateAvailabilityScore">calculateAvailabilityScore</a></li><li><a href="global.html#calculateDatabaseHealthScore">calculateDatabaseHealthScore</a></li><li><a href="global.html#calculateEndTime">calculateEndTime</a></li><li><a href="global.html#calculateFinalWage">calculateFinalWage</a></li><li><a href="global.html#checkAssignmentConflicts">checkAssignmentConflicts</a></li><li><a href="global.html#checkGameSchedulingConflicts">checkGameSchedulingConflicts</a></li><li><a href="global.html#checkRefereeDoubleBooking">checkRefereeDoubleBooking</a></li><li><a href="global.html#checkServiceHealth">checkServiceHealth</a></li><li><a href="global.html#checkTimeOverlap">checkTimeOverlap</a></li><li><a href="global.html#checkTravelTimeConflict">checkTravelTimeConflict</a></li><li><a href="global.html#checkVenueConflict">checkVenueConflict</a></li><li><a href="global.html#clearSettingsCache">clearSettingsCache</a></li><li><a href="global.html#conditionalValidation">conditionalValidation</a></li><li><a href="global.html#createAuditLog">createAuditLog</a></li><li><a href="global.html#createAuditLogsTable">createAuditLogsTable</a></li><li><a href="global.html#createPerformanceRoute">createPerformanceRoute</a></li><li><a href="global.html#createSecurityMiddleware">createSecurityMiddleware</a></li><li><a href="global.html#createTableService">createTableService</a></li><li><a href="global.html#createValidationError">createValidationError</a></li><li><a href="global.html#createValidator">createValidator</a></li><li><a href="global.html#db">db</a></li><li><a href="global.html#determineErrorSeverity">determineErrorSeverity</a></li><li><a href="global.html#determineEventType">determineEventType</a></li><li><a href="global.html#determineHealthStatus">determineHealthStatus</a></li><li><a href="global.html#determineIfShouldLog">determineIfShouldLog</a></li><li><a href="global.html#determineSeverity">determineSeverity</a></li><li><a href="global.html#enforceHTTPS">enforceHTTPS</a></li><li><a href="global.html#enhancedAsyncHandler">enhancedAsyncHandler</a></li><li><a href="global.html#errorHandler">errorHandler</a></li><li><a href="global.html#errorHealthCheck">errorHealthCheck</a></li><li><a href="global.html#express">express</a></li><li><a href="global.html#findAvailableReferees">findAvailableReferees</a></li><li><a href="global.html#formatAvailabilityResponse">formatAvailabilityResponse</a></li><li><a href="global.html#formatBytes">formatBytes</a></li><li><a href="global.html#generateAdvancedRecommendations">generateAdvancedRecommendations</a></li><li><a href="global.html#generateCacheRecommendations">generateCacheRecommendations</a></li><li><a href="global.html#generateDatabaseInsights">generateDatabaseInsights</a></li><li><a href="global.html#generateGroupStagePlayoffs">generateGroupStagePlayoffs</a></li><li><a href="global.html#generateHealthRecommendations">generateHealthRecommendations</a></li><li><a href="global.html#generateRecommendations">generateRecommendations</a></li><li><a href="global.html#generateRoundRobin">generateRoundRobin</a></li><li><a href="global.html#generateSingleElimination">generateSingleElimination</a></li><li><a href="global.html#generateSwissSystem">generateSwissSystem</a></li><li><a href="global.html#generateTransactionNumber">generateTransactionNumber</a></li><li><a href="global.html#getAdvancedMetrics">getAdvancedMetrics</a></li><li><a href="global.html#getAggregatedMetrics">getAggregatedMetrics</a></li><li><a href="global.html#getAuditEventType">getAuditEventType</a></li><li><a href="global.html#getClientIP">getClientIP</a></li><li><a href="global.html#getCorsConfig">getCorsConfig</a></li><li><a href="global.html#getErrorMessage">getErrorMessage</a></li><li><a href="global.html#getMetricsCollector">getMetricsCollector</a></li><li><a href="global.html#getMetricsEvents">getMetricsEvents</a></li><li><a href="global.html#getMetricsSummary">getMetricsSummary</a></li><li><a href="global.html#getMinutesBetween">getMinutesBetween</a></li><li><a href="global.html#getOrganizationSettings">getOrganizationSettings</a></li><li><a href="global.html#getPerformanceEvents">getPerformanceEvents</a></li><li><a href="global.html#getPerformanceStats">getPerformanceStats</a></li><li><a href="global.html#getQueryPerformanceEvents">getQueryPerformanceEvents</a></li><li><a href="global.html#getQueryPerformanceStats">getQueryPerformanceStats</a></li><li><a href="global.html#getSecurityConfig">getSecurityConfig</a></li><li><a href="global.html#getService">getService</a></li><li><a href="global.html#getServices">getServices</a></li><li><a href="global.html#getSlowQueriesSummary">getSlowQueriesSummary</a></li><li><a href="global.html#getWageBreakdown">getWageBreakdown</a></li><li><a href="global.html#handleApprovedRequest">handleApprovedRequest</a></li><li><a href="global.html#handleDatabaseError">handleDatabaseError</a></li><li><a href="global.html#hasSchedulingConflict">hasSchedulingConflict</a></li><li><a href="global.html#initializeServices">initializeServices</a></li><li><a href="global.html#knex">knex</a></li><li><a href="global.html#logError">logError</a></li><li><a href="global.html#logRequest">logRequest</a></li><li><a href="global.html#logSuspiciousActivity">logSuspiciousActivity</a></li><li><a href="global.html#logUnauthorizedCorsAttempt">logUnauthorizedCorsAttempt</a></li><li><a href="global.html#metricsEvents">metricsEvents</a></li><li><a href="global.html#notFoundHandler">notFoundHandler</a></li><li><a href="global.html#parseSize">parseSize</a></li><li><a href="global.html#parseSqlQuery">parseSqlQuery</a></li><li><a href="global.html#performanceEvents">performanceEvents</a></li><li><a href="global.html#performanceMonitor">performanceMonitor</a></li><li><a href="global.html#queryAuditLogs">queryAuditLogs</a></li><li><a href="global.html#queryCache">queryCache</a></li><li><a href="global.html#queryPerformanceEvents">queryPerformanceEvents</a></li><li><a href="global.html#queryValidationSchemas">queryValidationSchemas</a></li><li><a href="global.html#requestContextMiddleware">requestContextMiddleware</a></li><li><a href="global.html#requestContexts">requestContexts</a></li><li><a href="global.html#requestSizeLimit">requestSizeLimit</a></li><li><a href="global.html#resetAdvancedMetrics">resetAdvancedMetrics</a></li><li><a href="global.html#resetAllMetrics">resetAllMetrics</a></li><li><a href="global.html#resetPerformanceStats">resetPerformanceStats</a></li><li><a href="global.html#resetQueryPerformanceStats">resetQueryPerformanceStats</a></li><li><a href="global.html#sanitizeAll">sanitizeAll</a></li><li><a href="global.html#sanitizeBody">sanitizeBody</a></li><li><a href="global.html#sanitizeBodyForLogging">sanitizeBodyForLogging</a></li><li><a href="global.html#sanitizeError">sanitizeError</a></li><li><a href="global.html#sanitizeHeaders">sanitizeHeaders</a></li><li><a href="global.html#sanitizeInput">sanitizeInput</a></li><li><a href="global.html#sanitizeObject">sanitizeObject</a></li><li><a href="global.html#sanitizeParams">sanitizeParams</a></li><li><a href="global.html#sanitizeQuery">sanitizeQuery</a></li><li><a href="global.html#sanitizeString">sanitizeString</a></li><li><a href="global.html#securityConfig">securityConfig</a></li><li><a href="global.html#securityMonitoring">securityMonitoring</a></li><li><a href="global.html#sendAlertToWebhook">sendAlertToWebhook</a></li><li><a href="global.html#setupAlertHandlers">setupAlertHandlers</a></li><li><a href="global.html#setupGlobalErrorHandlers">setupGlobalErrorHandlers</a></li><li><a href="global.html#subtractMinutes">subtractMinutes</a></li><li><a href="global.html#testIntegrationConnection">testIntegrationConnection</a></li><li><a href="global.html#trackCacheOperation">trackCacheOperation</a></li><li><a href="global.html#trackDbQuery">trackDbQuery</a></li><li><a href="global.html#updateMetricsConfig">updateMetricsConfig</a></li><li><a href="global.html#validateAvailabilityWindow">validateAvailabilityWindow</a></li><li><a href="global.html#validateBody">validateBody</a></li><li><a href="global.html#validateContentType">validateContentType</a></li><li><a href="global.html#validateEnvironment">validateEnvironment</a></li><li><a href="global.html#validateFile">validateFile</a></li><li><a href="global.html#validateIdParam">validateIdParam</a></li><li><a href="global.html#validateParams">validateParams</a></li><li><a href="global.html#validateQuery">validateQuery</a></li><li><a href="global.html#validateRefereeQualifications">validateRefereeQualifications</a></li><li><a href="global.html#validateRequest">validateRequest</a></li><li><a href="global.html#validateUuidParam">validateUuidParam</a></li><li><a href="global.html#validationSummary">validationSummary</a></li><li><a href="global.html#withDatabaseError">withDatabaseError</a></li><li><a href="global.html#withErrorBoundary">withErrorBoundary</a></li><li><a href="global.html#withServiceTransaction">withServiceTransaction</a></li><li><a href="global.html#wrapDatabaseConnection">wrapDatabaseConnection</a></li><li><a href="global.html#wrapDatabaseQuery">wrapDatabaseQuery</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Fri Aug 01 2025 16:15:52 GMT-0700 (Pacific Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
